<div class="sheet-wrapper">
  <input checked="checked" name="attr_details_toggle" type="hidden" value="on">
  <input checked="checked" name="attr_edit_toggle" type="hidden" value="on">
  <input checked="checked" name="attr_simple_roll_type_toggle" type="hidden" value="on">
  <div class="sheet-toggle">
    <div class="sheet-toggle-details">
      <label>
        <input type="checkbox" checked="checked" name="attr_details_toggle"><span>Detaljer</span>
      </label>
    </div>
    <div class="sheet-toggle-roll-type">
      <label>
        <input type="checkbox" checked="checked" name="attr_simple_roll_type_toggle"><span>Enkla slag</span>
      </label>
    </div>
    <div class="sheet-toggle-edit">
      <label>
        <input type="checkbox" checked="checked" name="attr_edit_toggle"><span>Editera</span>
      </label>
    </div>
  </div>
  <div>
    <ul>
      <li name="Karaktär">
        <input type="checkbox" class="sheet-list-header sheet-character-tab" checked/>
        <h1>Karaktär</h1>
        <div class="sheet-section sheet-grid sheet-characterdata-grid">
          <div class="sheet-characterdata-grid-general">
            <h2 class="sheet-grid-section-header">Generellt</h2>
            <div class="sheet-general sheet-table sheet-header sheet-row">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-general-value">Värde</div>
            </div>
            <div class="sheet-general-pair sheet-general-gm">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Spelledare</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_gm"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Spelledare</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_gm"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-playerName">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Spelare</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_playerName"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Spelare</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_playerName"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterName">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Namn</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterName"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Namn</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterName"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterAlignment">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Karaktärsdrag</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterAlignment"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Karaktärsdrag</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterAlignment"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterRace">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Ras</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterRace"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Ras</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterRace"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterSex">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Kön</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterSex"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Kön</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterSex"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterSocial">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Socialt stånd</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterSocial"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Socialt stånd</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterSocial"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterProfession">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Yrke</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterProfession"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Yrke</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterProfession"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterHandedness">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Svärdshand</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterHandedness"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Svärdshand</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterHandedness"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterAge">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Ålder</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterAge"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Ålder</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterAge"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterHeight">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Längd</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterHeight"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Längd</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterHeight"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterWeight">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Vikt</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterWeight"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Vikt</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterWeight"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterSight">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Syn</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterSight"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Syn</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterSight"></span>
              </div>
            </div>
            <div class="sheet-general-pair sheet-general-characterHearing">
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Hörsel</span>
                <input  class="sheet-table sheet-data sheet-field sheet-general-value" type="text" value="" name="attr_characterHearing"/>
              </div>
              <div class="sheet-general sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Hörsel</span>
                <span   class="sheet-table sheet-data sheet-field sheet-general-value" name="attr_characterHearing"></span>
              </div>
            </div>
          </div>
          <div class="sheet-characterdata-grid-attribute">
            <h2 class="sheet-grid-section-header">Attribut</h2>
            <div class="sheet-attribute sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-attribute-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-attribute-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-attribute-totFv">FV</div>
            </div>
            <div class="sheet-attribute sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-attribute-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-attribute-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-attribute-totFv">FV</div>
            </div>
            <div class="sheet-attribute-pair sheet-attribute-strength">
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Styrka (STY)</span>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-mod"   type="number" value="0" name="attr_styMod"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-fv"    type="number" value="0" name="attr_sty"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-totFv" type="number" value="0" name="attr_styTot"/>
              </div>
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_styr" value="&{template:combined} {{name=Styrka}}  {{vad=Egenskap}} ?{Slagtyp|Summa, {{typ=Grundegenskap&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Grundegenskap - Mot&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{sty}+@{styMod}+?{Modifikation|0}]]}}"></button>
                <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_styr_simple" value="&{template:combined} {{name=Styrka}}  {{vad=Egenskap}} {{Slagtyp=Summa}} {{typ=Grundegenskap}} {{slag=[[1d20+@{sty}+@{styMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name"  >Styrka (STY)</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-mod"   name="attr_styMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-fv"    name="attr_sty">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-totFv" name="attr_styTot">0</span>
              </div>
            </div>
            <div class="sheet-attribute-pair sheet-attribute-endurance">
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Fysik (FYS)</span>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-mod"   type="number" value="0" name="attr_fysMod"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-fv"    type="number" value="0" name="attr_fys"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-totFv" type="number" value="0" name="attr_fysTot"/>
              </div>
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_fysr" value="&{template:combined} {{name=Fysik}}  {{vad=Egenskap}} ?{Slagtyp|Summa, {{typ=Grundegenskap&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Grundegenskap - Mot&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{fys}+@{fysMod}+?{Modifikation|0}]]}}"></button>
                <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_fysr_simple" value="&{template:combined} {{name=Fysik}}  {{vad=Egenskap}} {{Slagtyp=Summa}} {{typ=Grundegenskap}} {{slag=[[1d20+@{fys}+@{fysMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name"  >Fysik (FYS)</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-mod"   name="attr_fysMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-fv"    name="attr_fys">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-totFv" name="attr_fysTot">0</span>
              </div>
            </div>
            <div class="sheet-attribute-pair sheet-attribute-agility">
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Smidighet (SMI)</span>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-mod"   type="number" value="0" name="attr_smiMod"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-fv"    type="number" value="0" name="attr_smi"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-totFv" type="number" value="0" name="attr_smiTot"/>
              </div>
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_smir" value="&{template:combined} {{name=Smidighet}}  {{vad=Egenskap}} ?{Slagtyp|Summa, {{typ=Grundegenskap&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Grundegenskap - Mot&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{smi}+@{smiMod}+?{Modifikation|0}]]}}"></button>
                <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_smir_simple" value="&{template:combined} {{name=Smidighet}}  {{vad=Egenskap}} {{Slagtyp=Summa}} {{typ=Grundegenskap}} {{slag=[[1d20+@{smi}+@{smiMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name"  >Smidighet (SMI)</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-mod"   name="attr_smiMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-fv"    name="attr_smi">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-totFv" name="attr_smiTot">0</span>
              </div>
            </div>
            <div class="sheet-attribute-pair sheet-attribute-intelligence">
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Intelligens (INT)</span>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-mod"   type="number" value="0" name="attr_intMod"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-fv"    type="number" value="0" name="attr_int"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-totFv" type="number" value="0" name="attr_intTot"/>
              </div>
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_intr" value="&{template:combined} {{name=Intelligens}}  {{vad=Egenskap}} ?{Slagtyp|Summa, {{typ=Grundegenskap&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Grundegenskap - Mot&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{int}+@{intMod}+?{Modifikation|0}]]}}"></button>
                <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_intr_simple" value="&{template:combined} {{name=Intelligens}}  {{vad=Egenskap}} {{Slagtyp=Summa}} {{typ=Grundegenskap}} {{slag=[[1d20+@{int}+@{intMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name"  >Intelligens (INT)</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-mod"   name="attr_intMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-fv"    name="attr_int">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-totFv" name="attr_intTot">0</span>
              </div>
            </div>
            <div class="sheet-attribute-pair sheet-attribute-willpower">
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Psyke (PSY)</span>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-mod"   type="number" value="0" name="attr_psyMod"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-fv"    type="number" value="0" name="attr_psy"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-totFv" type="number" value="0" name="attr_psyTot"/>
              </div>
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_psyr" value="&{template:combined} {{name=Psyke}}  {{vad=Egenskap}} ?{Slagtyp|Summa, {{typ=Grundegenskap&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Grundegenskap - Mot&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{psy}+@{psyMod}+?{Modifikation|0}]]}}"></button>
                <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_psyr_simple" value="&{template:combined} {{name=Psyke}}  {{vad=Egenskap}} {{Slagtyp=Summa}} {{typ=Grundegenskap}} {{slag=[[1d20+@{psy}+@{psyMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name"  >Psyke (PSY)</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-mod"   name="attr_psyMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-fv"    name="attr_psy">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-totFv" name="attr_psyTot">0</span>
              </div>
            </div>
            <div class="sheet-attribute-pair sheet-attribute-charisma">
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Karisma (KAR)</span>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-mod"   type="number" value="0" name="attr_karMod"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-fv"    type="number" value="0" name="attr_kar"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-totFv" type="number" value="0" name="attr_karTot"/>
              </div>
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_karr" value="&{template:combined} {{name=Karisma}}  {{vad=Egenskap}} ?{Slagtyp|Summa, {{typ=Grundegenskap&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Grundegenskap - Mot&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{kar}+@{karMod}+?{Modifikation|0}]]}}"></button>
                <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_karr_simple" value="&{template:combined} {{name=Karisma}}  {{vad=Egenskap}} {{Slagtyp=Summa}} {{typ=Grundegenskap}} {{slag=[[1d20+@{kar}+@{karMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name"  >Karisma (KAR)</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-mod"   name="attr_karMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-fv"    name="attr_kar">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-totFv" name="attr_karTot">0</span>
              </div>
            </div>
            <div class="sheet-attribute-pair sheet-attribute-size">
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Storlek (STO)</span>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-mod"   type="number" value="0" name="attr_stoMod"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-fv"    type="number" value="0" name="attr_sto"/>
                <input  class="sheet-table sheet-data sheet-field sheet-attribute-totFv" type="number" value="0" name="attr_stoTot"/>
              </div>
              <div class="sheet-attribute sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_stor" value="&{template:combined} {{name=Storlek}}  {{vad=Egenskap}} ?{Slagtyp|Summa, {{typ=Grundegenskap&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Grundegenskap - Mot&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{sto}+@{stoMod}+?{Modifikation|0}]]}}"></button>
                <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_stor_simple" value="&{template:combined} {{name=Storlek}}  {{vad=Egenskap}} {{Slagtyp=Summa}} {{typ=Grundegenskap}} {{slag=[[1d20+@{sto}+@{stoMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name"  >Storlek (STO)</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-mod"   name="attr_stoMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-fv"    name="attr_sto">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-attribute-totFv" name="attr_stoTot">0</span>
              </div>
            </div>
          </div>
          <div class="sheet-characterdata-grid-derived">
            <h2 class="sheet-grid-section-header">Beräknade</h2>
            <div class="sheet-derived sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-derived-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-derived-value">Värde</div>
              <div class="sheet-table sheet-header sheet-field sheet-derived-totValue">Värde</div>
            </div>
            <div class="sheet-derived sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-derived-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-derived-value">Värde</div>
              <div class="sheet-table sheet-header sheet-field sheet-derived-totValue">Värde</div>
            </div>
            <div class="sheet-derived-pair sheet-derived-damageBonus">
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Skadebonus</span>
                <input  class="sheet-table sheet-data sheet-field sheet-derived-mod"      type="text" name="attr_skadeBonusMod" value="" />
                <input  class="sheet-table sheet-data sheet-field sheet-derived-value"    type="text" name="attr_skadeBonus"    value="" />
                <input  class="sheet-table sheet-data sheet-field sheet-derived-totValue" type="text" name="attr_skadeBonusTot" value=""/>
              </div>
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Skadebonus</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-mod"      name="attr_skadeBonusMod"></span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-value"    name="attr_skadeBonus"   ></span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-totValue" name="attr_skadeBonusTot"></span>
              </div>
            </div>
            <div class="sheet-derived-pair sheet-derived-hitPoints">
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Kroppspoäng max</span>
                <input  class="sheet-table sheet-data sheet-field sheet-derived-mod"      type="number" name="attr_kroppsPoangMod" value="0"/>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-value"    type="number" name="attr_kroppsPoang"    >0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-totValue" type="number" name="attr_kp_max"         >0</span>
              </div>
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Kroppspoäng max</span>
                <span  class="sheet-table sheet-data sheet-field sheet-derived-mod"      type="number" name="attr_kroppsPoangMod" >0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-derived-value"    type="number" name="attr_kroppsPoang"    >0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-derived-totValue" type="number" name="attr_kp_max"         >0</span>
              </div>
            </div>
            <div class="sheet-derived-pair sheet-derived-manaPoints">
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Psykepoäng max</span>
                <input  class="sheet-table sheet-data sheet-field sheet-derived-mod"      type="number" value="0" name="attr_psykePoangMod"/>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-value"    type="number" value="0" name="attr_psykePoangGrund">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-totValue" type="number" value="0" name="attr_psykePoang_max">0</span>
              </div>
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Psykepoäng max</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-mod"      name="attr_psykePoangMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-value"    name="attr_psykePoangGrund">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-totValue" name="attr_psykePoang_max">0</span>
              </div>
            </div>
            <div class="sheet-derived-pair sheet-derived-speed">
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Förflyttning</span>
                <input  class="sheet-table sheet-data sheet-field sheet-derived-mod"      type="number" value="0" name="attr_speedMod"/>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-value"    type="number" value="0" name="attr_speed">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-totValue" type="number" value="0" name="attr_speedTot">0</span>
              </div>
              <div class="sheet-derived sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Förflyttning</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-mod"      name="attr_speedMod">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-value"    name="attr_speed">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-derived-totValue" name="attr_speedTot">0</span>
              </div>
            </div>
          </div>
          <div class="sheet-characterdata-grid-experience">
            <h2 class="sheet-grid-section-header">Erfarenhet</h2>
            <div class="sheet-experience sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-experience-unused">Nya</div>
              <div class="sheet-table sheet-header sheet-field sheet-experience-total">Totalt</div>
            </div>
            <div class="sheet-experience sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-experience-unused">Nya</div>
              <div class="sheet-table sheet-header sheet-field sheet-experience-total">Totalt</div>
            </div>
            <div class="sheet-experience-pair sheet-experience-heroPoints">
              <div class="sheet-experience sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Hjältepoäng</span>
                <input  class="sheet-table sheet-data sheet-field sheet-experience-unused"   type="number" value="0" name="attr_heroPoints_unused"/>
                <input  class="sheet-table sheet-data sheet-field sheet-experience-total"    type="number" value="0" name="attr_heroPoints_total"/>
              </div>
              <div class="sheet-experience sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Hjältepoäng</span>
                <span   class="sheet-table sheet-data sheet-field sheet-experience-unused"   name="attr_heroPoints_unused">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-experience-total"    name="attr_heroPoints_total">0</span>
              </div>
            </div>
            <div class="sheet-experience-pair sheet-experience-experiencePoints">
              <div class="sheet-experience sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Äventyrspoäng</span>
                <input  class="sheet-table sheet-data sheet-field sheet-experience-unused"   type="number" value="0" name="attr_experiencePoints_unused"/>
                <input  class="sheet-table sheet-data sheet-field sheet-experience-total"    type="number" value="0" name="attr_experiencePoints_total"/>
              </div>
              <div class="sheet-experience sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Äventyrspoäng</span>
                <span   class="sheet-table sheet-data sheet-field sheet-experience-unused"   name="attr_experiencePoints_unused">0</span>
                <span   class="sheet-table sheet-data sheet-field sheet-experience-total"    name="attr_experiencePoints_total">0</span>
              </div>
            </div>
          </div>
          <div class="sheet-characterdata-grid-ability">
            <h2 class="sheet-grid-section-header">Förmågor</h2>
            <div class="sheet-ability sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-ability-desc">Beskrivning</div>
            </div>
            <div class="sheet-ability sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-ability-desc">Beskrivning</div>
            </div>
            <fieldset class="repeating_ability">
              <div class="sheet-ability-pair sheet-characterdata-ability">
                <div class="sheet-ability sheet-table sheet-data sheet-row sheet-show-while-edit">
                  <input class="sheet-table sheet-data sheet-field sheet-name" type="text" name="attr_abilityName"/>
                  <input class="sheet-table sheet-data sheet-field sheet-ability-desc" type="text" name="attr_abilityDesc"/>
                </div>
                <div class="sheet-ability sheet-table sheet-data sheet-row sheet-hide-while-edit">
                  <span   class="sheet-table sheet-data sheet-field sheet-name"  name="attr_abilityName"></span>
                  <span   class="sheet-table sheet-data sheet-field sheet-ability-desc"  name="attr_abilityDesc"></span>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="sheet-characterdata-grid-extra">
            <h2 class="sheet-grid-section-header">Övrigt</h2>
            <div class="sheet-extra">
              <textarea name="attr_ovriginfo"></textarea>
            </div>
          </div>
        </div>
      </li>
      <li name="Färdigheter">
        <input type="checkbox" class="sheet-list-header sheet-skill-tab" checked/>
        <h1>Färdigheter</h1>
        <div class="sheet-section sheet-grid sheet-skill-grid">
          <div class="sheet-skill-grid-primary">
            <h2 class="sheet-grid-section-header">Primära (2)</h2>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <div class="sheet-skill-pair sheet-skill-bluffa">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Bluffa</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  KAR</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_bluffaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_bluffaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_bluffa"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_bluffa" value="&{template:combined} {{name=Bluffa}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{bluffa}+@{bluffaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_bluffa_simple" value="&{template:combined} {{name=Bluffa}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{bluffa}+@{bluffaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Bluffa</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> KAR</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_bluffaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_bluffaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_bluffa">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_bluffaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-finnaDoldaTing">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Finna dolda ting</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  INT</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_finnaDoldaTingErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_finnaDoldaTingMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_finnaDoldaTing"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_finnaDoldaTing" value="&{template:combined} {{name=Finna dolda ting}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{finnaDoldaTing}+@{finnaDoldaTingMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_finnaDoldaTing_simple" value="&{template:combined} {{name=Finna dolda ting}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{finnaDoldaTing}+@{finnaDoldaTingMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Finna dolda ting</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> INT</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_finnaDoldaTingErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_finnaDoldaTingMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_finnaDoldaTing">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_finnaDoldaTingTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-forstaHjalpen">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Första hjälpen</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  INT</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_forstaHjalpenErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_forstaHjalpenMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_forstaHjalpen"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_forstaHjalpen" value="&{template:combined} {{name=Första hjälpen}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{forstaHjalpen}+@{forstaHjalpenMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_forstaHjalpen_simple" value="&{template:combined} {{name=Första hjälpen}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{forstaHjalpen}+@{forstaHjalpenMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Första hjälpen</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> INT</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_forstaHjalpenErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_forstaHjalpenMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_forstaHjalpen">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_forstaHjalpenTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-gommaSig">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Gömma sig</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  INT</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_gommaSigErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_gommaSigMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_gommaSig"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_gommaSig" value="&{template:combined} {{name=Gömma sig}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{gommaSig}+@{gommaSigMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_gommaSig_simple" value="&{template:combined} {{name=Gömma sig}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{gommaSig}+@{gommaSigMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Gömma sig</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> INT</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_gommaSigErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_gommaSigMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_gommaSig">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_gommaSigTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-hoppa">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Hoppa</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  SMI</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_hoppaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_hoppaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_hoppa"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_hoppa" value="&{template:combined} {{name=Hoppa}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{hoppa}+@{hoppaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_hoppa_simple" value="&{template:combined} {{name=Hoppa}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{hoppa}+@{hoppaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Hoppa</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> SMI</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_hoppaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_hoppaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_hoppa">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_hoppaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-klattra">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Klättra</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  SMI</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_klattraErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_klattraMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_klattra"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_klattra" value="&{template:combined} {{name=Klättra}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{klattra}+@{klattraMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_klattra_simple" value="&{template:combined} {{name=Klättra}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{klattra}+@{klattraMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Klättra</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> SMI</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_klattraErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_klattraMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_klattra">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_klattraTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-kopsla">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Köpslå</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  KAR</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_kopslaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_kopslaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_kopsla"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_kopsla" value="&{template:combined} {{name=Köpslå}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{kopsla}+@{kopslaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_kopsla_simple" value="&{template:combined} {{name=Köpslå}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{kopsla}+@{kopslaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Köpslå</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> KAR</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_kopslaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_kopslaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_kopsla">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_kopslaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-lyssna">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Lyssna</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  INT</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_lyssnaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_lyssnaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_lyssna"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_lyssna" value="&{template:combined} {{name=Lyssna}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{lyssna}+@{lyssnaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_lyssna_simple" value="&{template:combined} {{name=Lyssna}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{lyssna}+@{lyssnaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Lyssna</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> INT</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_lyssnaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_lyssnaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_lyssna">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_lyssnaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-lsModersmalMod">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">L/S modersmål</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  spec</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_lsModersmalModErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_lsModersmalModMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_lsModersmalMod"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_lsModersmalMod" value="&{template:combined} {{name=L/S modersmål}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{lsModersmalMod}+@{lsModersmalModMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_lsModersmalMod_simple" value="&{template:combined} {{name=L/S modersmål}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{lsModersmalMod}+@{lsModersmalModMod}]]}}"></button><span class="sheet-table sheet-data sheet-field sheet-name">L/S modersmål</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> spec</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_lsModersmalModErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_lsModersmalModMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_lsModersmalMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_lsModersmalModTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-rida">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Rida</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  SMI</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_ridaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_ridaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_rida"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_rida" value="&{template:combined} {{name=Rida}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{rida}+@{ridaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_rida_simple" value="&{template:combined} {{name=Rida}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{rida}+@{ridaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Rida</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> SMI</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_ridaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_ridaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_rida">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_ridaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-sjunga">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Sjunga</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  KAR</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_sjungaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_sjungaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_sjunga"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_sjunga" value="&{template:combined} {{name=Sjunga}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{sjunga}+@{sjungaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_sjunga_simple" value="&{template:combined} {{name=Sjunga}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{sjunga}+@{sjungaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Sjunga</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> KAR</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_sjungaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_sjungaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_sjunga">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_sjungaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-slagsmal">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Slagsmål</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  STY</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_slagsmalErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_slagsmalMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_slagsmal"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_slagsmal" value="&{template:combined} {{name=Slagsmål}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{slagsmal}+@{slagsmalMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_slagsmal_simple" value="&{template:combined} {{name=Slagsmål}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{slagsmal}+@{slagsmalMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Slagsmål</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> STY</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_slagsmalErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_slagsmalMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_slagsmal">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_slagsmalTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-smyga">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Smyga</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  SMI</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_smygaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_smygaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_smyga"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_smyga" value="&{template:combined} {{name=Smyga}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{smyga}+@{smygaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_smyga_simple" value="&{template:combined} {{name=Smyga}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{smyga}+@{smygaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Smyga</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> SMI</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_smygaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_smygaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_smyga">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_smygaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-spara">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Spåra</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  INT</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_sparaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_sparaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_spara"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_spara" value="&{template:combined} {{name=Spåra}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{spara}+@{sparaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_spara_simple" value="&{template:combined} {{name=Spåra}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{spara}+@{sparaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Spåra</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> INT</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_sparaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_sparaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_spara">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_sparaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-stjalaForemal">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Stjäla föremål</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  SMI</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_stjalaForemalErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_stjalaForemalMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_stjalaForemal"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_stjalaForemal" value="&{template:combined} {{name=Stjäla föremål}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{stjalaForemal}+@{stjalaForemalMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_stjalaForemal_simple" value="&{template:combined} {{name=Stjäla föremål}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{stjalaForemal}+@{stjalaForemalMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Stjäla föremål</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> SMI</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_stjalaForemalErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_stjalaForemalMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_stjalaForemal">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_stjalaForemalTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-talaModersmal">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Tala modersmål</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  spec</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_talaModersmalErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_talaModersmalMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_talaModersmal"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_talaModersmal" value="&{template:combined} {{name=Tala modersmål}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{talaModersmal}+@{talaModersmalMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_talaModersmal_simple" value="&{template:combined} {{name=Tala modersmål}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{talaModersmal}+@{talaModersmalMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Tala modersmål</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> spec</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_talaModersmalErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_talaModersmalMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_talaModersmal">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_talaModersmalTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-upptackaFara">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Upptäcka fara</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  PSY</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_upptackaFaraErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_upptackaFaraMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_upptackaFara"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_upptackaFara" value="&{template:combined} {{name=Upptäcka Fara}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{upptackaFara}+@{upptackaFaraMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_upptackaFara_simple" value="&{template:combined} {{name=Upptäcka Fara}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{upptackaFara}+@{upptackaFaraMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Upptäcka fara</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> PSY</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_upptackaFaraErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_upptackaFaraMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_upptackaFara">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_upptackaFaraTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-vardera">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Värdera</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  INT</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_varderaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_varderaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_vardera"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_vardera" value="&{template:combined} {{name=Värdera}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{vardera}+@{varderaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_vardera_simple" value="&{template:combined} {{name=Värdera}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{vardera}+@{varderaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Värdera</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> INT</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_varderaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_varderaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_vardera">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_varderaTotFv">0</span>
              </div>
            </div>
            <div class="sheet-skill-pair sheet-skill-overtala">
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">Övertala</span>
                <div class="sheet-table sheet-data sheet-field sheet-skill-base">  KAR</div>
                <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" value="0" name="attr_overtalaErf"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" value="0" name="attr_overtalaMod"/>
                <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" value="0" name="attr_overtala"/>
              </div>
              <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_overtala" value="&{template:combined} {{name=Övertala}} {{vad=Primär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{overtala}+@{overtalaMod}+?{Modifikation|0}]]}}"></button>
                <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_overtala_simple" value="&{template:combined} {{name=Övertala}} {{vad=Primär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{overtala}+@{overtalaMod}]]}}"></button>
                <span class="sheet-table sheet-data sheet-field sheet-name">Övertala</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-base"> KAR</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_overtalaErf">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_overtalaMod">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_overtala">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_overtalaTotFv">0</span>
              </div>
            </div>
          </div>
          <div class="sheet-skill-grid-profession">
            <h2 class="sheet-grid-section-header">Yrkes (3)</h2>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <fieldset class="repeating_yrkes">
              <div class="sheet-skill-pair sheet-skill-yrkes">
                <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                  <input class="sheet-table sheet-data sheet-field sheet-name" type="text"   name="attr_yrkesnamn"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-base" type="text"   name="attr_yrkesbas"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" name="attr_yrkeserf" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" name="attr_yrkesMod" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" name="attr_yrkesfv"  value="0"/>
                </div>
                <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                  <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_yrkes" value="&{template:combined} {{name=@{yrkesnamn}}} {{vad=Yrkes}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{yrkesfv}+@{yrkesMod}+?{Modifikation|0}]]}}"></button>
                  <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_yrkes_simple" value="&{template:combined} {{name=@{yrkesnamn}}} {{vad=Yrkes}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{yrkesfv}+@{yrkesMod}]]}}"></button>
                  <span   class="sheet-table sheet-data sheet-field sheet-name"  name="attr_yrkesnamn"  ></span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-base"  name="attr_yrkesbas"   ></span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_yrkeserf"   >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_yrkesMod"   >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_yrkesfv"    >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_yrkestotfv" >0</span>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="sheet-skill-grid-secondary">
            <h2 class="sheet-grid-section-header">Sekundära (4)</h2>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <fieldset class="repeating_sekundar">
              <div class="sheet-skill-pair sheet-skill-sekundar">
                <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                  <input class="sheet-table sheet-data sheet-field sheet-name" type="text"   name="attr_sekundarnamn"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-base" type="text"   name="attr_sekundarbas"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" name="attr_sekundarerf" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" name="attr_sekundarMod" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" name="attr_sekundarfv"  value="0"/>
                </div>
                <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                  <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_sekundar" value="&{template:combined} {{name=@{sekundarnamn}}} {{vad=Sekundär}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{sekundarfv}+@{sekundarMod}+?{Modifikation|0}]]}}"></button>
                  <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_sekundar_simple" value="&{template:combined} {{name=@{sekundarnamn}}} {{vad=Sekundär}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{sekundarfv}+@{sekundarMod}]]}}"></button>
                  <span   class="sheet-table sheet-data sheet-field sheet-name"  name="attr_sekundarnamn"  ></span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-base"  name="attr_sekundarbas"   ></span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_sekundarerf"   >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_sekundarMod"   >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_sekundarfv"    >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_sekundartotfv" >0</span>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="sheet-skill-grid-language">
            <h2 class="sheet-grid-section-header">Språk (3)</h2>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <div class="sheet-skill sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-base">Bas</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-erf">Erf</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-mod">Mod</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-fv">FV</div>
              <div class="sheet-table sheet-header sheet-field sheet-skill-totFv">FV</div>
            </div>
            <fieldset class="repeating_sprak">
              <div class="sheet-skill-pair sheet-skill-sprak">
                <div class="sheet-skill sheet-table sheet-data sheet-row sheet-show-while-edit">
                  <input class="sheet-table sheet-data sheet-field sheet-name" type="text"   name="attr_spraknamn"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-base" type="text"   name="attr_sprakbas"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-erf"  type="number" name="attr_sprakerf" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-mod"  type="number" name="attr_sprakMod" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-skill-fv"   type="number" name="attr_sprakfv"  value="0"/>
                </div>
                <div class="sheet-skill sheet-table sheet-data sheet-row sheet-hide-while-edit">
                  <button type="roll" class="sheet-button-full-hidden sheet-normal-roll" name="roll_sprak" value="&{template:combined} {{name=@{spraknamn}}} {{vad=Språk}} ?{Slagtyp|Summa, {{typ=Färdighet&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Färdighet - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20+@{sprakfv}+@{sprakMod}+?{Modifikation|0}]]}}"></button>
                  <button type="roll" class="sheet-button-full-hidden sheet-simple-roll" name="roll_sprak_simple" value="&{template:combined} {{name=@{spraknamn}}} {{vad=Språk}} {{Slagtyp=Summa}} {{typ=Färdighet}} {{slag=[[1d20+@{sprakfv}+@{sprakMod}]]}}"></button>
                  <span   class="sheet-table sheet-data sheet-field sheet-name"  name="attr_spraknamn"  ></span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-base"  name="attr_sprakbas"   ></span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-erf"   name="attr_sprakerf"   >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-mod"   name="attr_sprakMod"   >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-fv"    name="attr_sprakfv"    >0</span>
                  <span   class="sheet-table sheet-data sheet-field sheet-skill-totFv" name="attr_spraktotfv" >0</span>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
      </li>
      <li name="Magi">
        <input type="checkbox" class="sheet-list-header sheet-magic-tab" checked/>
        <h1>Magi</h1>
        <div class="sheet-section sheet-grid sheet-magic-grid">
          <div class="sheet-magic-grid-spells">
            <h2 class="sheet-grid-section-header">Besvärjelser</h2>
            <div class="sheet-spell sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-desc">Beskrivning</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-quick">Kvick</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-still">Stilla</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-silent">Tyst</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-cost">Kostnad</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-perfects">Erf</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-fv-mod">Mod</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-fv">FV</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-fv-total">FV</div>
            </div>
            <div class="sheet-spell sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-name">Namn</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-desc">Beskrivning</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-quick">Kvick</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-still">Stilla</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-silent">Tyst</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-cost">Kostnad</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-perfects">Erf</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-fv-mod">Mod</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-fv">FV</div>
              <div class="sheet-spell sheet-table sheet-header sheet-field sheet-fv-total">FV</div>
            </div>
            <fieldset class="repeating_spells">
              <div class="sheet-pair">
                <div class="sheet-spell sheet-table sheet-data sheet-row sheet-show-while-edit">
                  <input class="sheet-spell sheet-table sheet-data sheet-field sheet-name"     type="text"     name="attr_spell_name"     value=""/>
                  <input class="sheet-spell sheet-table sheet-data sheet-field sheet-desc"     type="text"     name="attr_spell_desc"     value=""/>
                  <label class="sheet-spell-checkbox-area">
                    <input class="sheet-spell-checkbox" type="checkbox" name="attr_spell_quick"/>
                    <span class="sheet-spell-checkmark"></span>
                  </label>
                  <label class="sheet-spell-checkbox-area">
                    <input class="sheet-spell-checkbox" type="checkbox" name="attr_spell_still"/>
                    <span class="sheet-spell-checkmark"></span>
                  </label>
                  <label class="sheet-spell-checkbox-area">
                    <input class="sheet-spell-checkbox" type="checkbox" name="attr_spell_silent"/>
                    <span class="sheet-spell-checkmark"></span>
                  </label>
                  <input class="sheet-spell sheet-table sheet-data sheet-field sheet-cost"     type="number"   name="attr_spell_cost"     value="0"/>
                  <input class="sheet-spell sheet-table sheet-data sheet-field sheet-perfects" type="number"   name="attr_spell_perfects" value="0"/>
                  <input class="sheet-spell sheet-table sheet-data sheet-field sheet-fv-mod"   type="number"   name="attr_spell_fv_mod"   value="0"/>
                  <input class="sheet-spell sheet-table sheet-data sheet-field sheet-fv"       type="number"   name="attr_spell_fv"       value="0"/>
                  <input class="sheet-spell sheet-table sheet-data sheet-field sheet-fv-total" type="number"   name="attr_spell_fv_total" value="0"/>
                </div>
                <div class="sheet-spell sheet-table sheet-data sheet-row sheet-hide-while-edit">
                  <button type="roll" name="roll_spell" class="sheet-button-full-hidden sheet-normal-roll" value="&{template:combined} {{name=@{spell_name}}} {{effekt=?{E|1}}} {{vad=Besvärjelse}} ?{Slagtyp|Summa, {{typ=Magi&amp;#125;&amp;#125; {{slag=[[ |Motstånd, {{typ=Magi - Motstånd&amp;#125;&amp;#125; {{slag=[[ -1* }1d20-?{E}+1+@{spell_fv_total}+?{Modifikation|0}]]}}"></button>
                  <button type="roll" name="roll_spell_simple" class="sheet-button-full-hidden sheet-simple-roll" value="&{template:combined} {{name=@{spell_name}}} {{effekt=1}} {{vad=Besvärjelse}} {{Slagtyp=Summa}} {{typ=Magi}} {{slag=[[1d20+@{spell_fv_total}]]}}"></button>                  
                  <span class="sheet-spell sheet-table sheet-data sheet-field sheet-name"                              name="attr_spell_name"></span>
                  <span class="sheet-spell sheet-table sheet-data sheet-field sheet-desc"                              name="attr_spell_desc"></span>
                  <label class="sheet-spell-checkbox-area">
                    <input class="sheet-spell-checkbox" type="checkbox" name="attr_spell_quick"/>
                    <span class="sheet-spell-checkmark"></span>
                  </label>
                  <label class="sheet-spell-checkbox-area">
                    <input class="sheet-spell-checkbox" type="checkbox" name="attr_spell_still"/>
                    <span class="sheet-spell-checkmark"></span>
                  </label>
                  <label class="sheet-spell-checkbox-area">
                    <input class="sheet-spell-checkbox" type="checkbox" name="attr_spell_silent"/>
                    <span class="sheet-spell-checkmark"></span>
                  </label>
                  <span class="sheet-spell sheet-table sheet-data sheet-field sheet-cost"                              name="attr_spell_cost"></span>
                  <span class="sheet-spell sheet-table sheet-data sheet-field sheet-perfects"                          name="attr_spell_perfects"></span>
                  <span class="sheet-spell sheet-table sheet-data sheet-field sheet-fv-mod"                            name="attr_spell_fv_mod"></span>
                  <span class="sheet-spell sheet-table sheet-data sheet-field sheet-fv"                                name="attr_spell_fv"></span>
                  <span class="sheet-spell sheet-table sheet-data sheet-field sheet-fv-total"                          name="attr_spell_fv_total"></span>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="sheet-magic-grid-mana">
            <h2 class="sheet-grid-section-header">Psykepoäng</h2>
            <div class="sheet-mana sheet-table sheet-header sheet-row">
              <div class="sheet-mana sheet-table sheet-header sheet-field">Max</div>
              <div class="sheet-mana sheet-table sheet-header sheet-field">Använda</div>
              <div class="sheet-mana sheet-table sheet-header sheet-field">kvar</div>
            </div>
            <div class="sheet-pair">
              <div class="sheet-mana sheet-table sheet-data sheet-row sheet-show-while-edit">
                <span  class="sheet-mana sheet-table sheet-data sheet-field" name="attr_psykePoang_max">0</span>
                <input class="sheet-mana sheet-table sheet-data sheet-field" name="attr_psykePoangForbrukade" type="number" value="0"/>
                <span  class="sheet-mana sheet-table sheet-data sheet-field" name="attr_psykePoang">0</span>
              </div>
              <div class="sheet-mana sheet-table sheet-data sheet-row sheet-hide-while-edit">
                <span class="sheet-mana sheet-table sheet-data sheet-field" name="attr_psykePoang_max">0</span>
                <span class="sheet-mana sheet-table sheet-data sheet-field" name="attr_psykePoangForbrukade">0</span>
                <span class="sheet-mana sheet-table sheet-data sheet-field" name="attr_psykePoang">0</span>
              </div>
            </div>
          </div>
          <div class="sheet-magic-grid-extra">
            <h2 class="sheet-grid-section-header">Övrigt</h2>
            <div class="sheet-extra">
              <textarea class= "sheet-mana sheet-textarea sheet-extra" name="attr_magic_extra"></textarea>
            </div>
          </div>
        </div>
      </li>
      <li name="Strid">
        <input type="checkbox" class="sheet-list-header sheet-skill-tab" checked/>
        <h1>Strid</h1>
        <div class="sheet-section sheet-grid sheet-combat-grid">
          <div class="sheet-combat-grid-health">
            <h2 class="sheet-grid-section-header">Hälsa</h2>
            <div class="sheet-health sheet-table sheet-header sheet-row">
              <div class="sheet-table sheet-header sheet-field sheet-name">Kroppsdel</div>
              <div class="sheet-table sheet-header sheet-field sheet-health-other">Övrigt</div>
              <div class="sheet-table sheet-header sheet-field sheet-health-max">KP-full</div>
              <div class="sheet-table sheet-header sheet-field sheet-health-current">KP</div>
              <div class="sheet-table sheet-header sheet-field sheet-health-armor">RV</div>
              <div class="sheet-table sheet-header sheet-field sheet-health-wounds">Skada</div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Huvud</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_head_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kphuvud_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kphuvud">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_head_sum">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sarhuvud" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Huvud</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_head_other"></span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kphuvud_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kphuvud">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_head_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sarhuvud">0</span>
              </div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Höger arm</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_rightarm_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kphogerarm_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kphogerarm">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_rightarm_sum">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sarhogerarm" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Höger arm</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_rightarm_other"></span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kphogerarm_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kphogerarm">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_rightarm_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sarhogerarm">0</span>
              </div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Vänster arm</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_leftarm_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpvansterarm_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpvansterarm">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_leftarm_sum">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sarvansterarm" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Vänster arm</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_leftarm_other"></span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpvansterarm_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpvansterarm">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_leftarm_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sarvansterarm">0</span>
              </div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Bröst</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_torso_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpbrost_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpbrost">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_torso_sum">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sarbrost" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Bröst</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_torso_other"></span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpbrost_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpbrost">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_torso_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sarbrost">0</span>
              </div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Mage</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_stomach_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpmage_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpmage">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_stomach_sum">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sarmage" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Mage</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_stomach_other"></span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpmage_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpmage">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_stomach_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sarmage">0</span>
              </div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Höger ben</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_rightleg_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kphogerben_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kphogerben">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_rightleg_sum">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sarhogerben" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Höger ben</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_rightleg_other"></span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kphogerben_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kphogerben">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_rightleg_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sarhogerben">0</span>
              </div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Vänster ben</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_leftleg_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpvansterben_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpvansterben">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_leftleg_sum">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sarvansterben" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">Vänster ben</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_leftleg_other"></span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpvansterben_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpvansterben">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_leftleg_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sarvansterben">0</span>
              </div>
            </div>
            <div class="sheet-health-pair">
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-show-while-edit">
                <span  class="sheet-table sheet-data sheet-field sheet-name">KP skador:</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-other" type="text" name="attr_generall_other" value=""/>
                <span  class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpgenerell_max">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpgenerell">0</span>
                <span  class="sheet-table sheet-data sheet-field sheet-health-armor">0</span>
                <input class="sheet-table sheet-data sheet-field sheet-health-wounds" type="number" name="attr_sargenerell" value="0" min="0"/>
              </div>
              <div class="sheet-health sheet-table sheet-data sheet-row sheet-row sheet-hide-while-edit">
                <span class="sheet-table sheet-data sheet-field sheet-name">KP skador:</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-other" name="attr_eng_other"></span>
                <span class="sheet-table sheet-data sheet-field sheet-health-max" name="attr_kpgenerell_max">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-current" name="attr_kpgenerell">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-armor" name="attr_armor_eng_sum">0</span>
                <span class="sheet-table sheet-data sheet-field sheet-health-wounds" name="attr_sargenerell">0</span>
              </div>
            </div>
            <div class="sheet-health sheet-table sheet-summary sheet-row sheet-row">
              <span class="sheet-table sheet-summary sheet-field sheet-name">Totalt:</span>
              <span class="sheet-table sheet-summary sheet-field sheet-health-other" name="attr_Total_other"></span>
              <span class="sheet-table sheet-summary sheet-field sheet-health-max" name="attr_kp_max">0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-health-current" name="attr_kp">0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-health-armor"></span>
              <span class="sheet-table sheet-summary sheet-field sheet-health-wounds" name="attr_sar_totalt">0</span>
            </div>
          </div>
          <div class="sheet-combat-grid-armor">
            <h2 class="sheet-grid-section-header">Rustning</h2>
            <div class="sheet-armor sheet-table sheet-header sheet-row">
              <div class="sheet-table sheet-header sheet-field sheet-name">Rustning</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-details">Detaljer</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-weight">Vikt</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-head">Huvud</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-rightArm">H. arm</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-leftArm">V. arm</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-torso">Bröst</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-stomach">Mage</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-rightLeg">H. ben</div>
              <div class="sheet-table sheet-header sheet-field sheet-armor-leftLeg">V. ben</div>
            </div>
            <fieldset class="repeating_armor">
              <div class="sheet-armor-pair">
                <div class="sheet-armor sheet-table sheet-data sheet-row sheet-show-while-edit">
                  <input class="sheet-table sheet-data sheet-field sheet-name"       type="text"               name="attr_armor_name"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-details"    type="text"               name="attr_armor_details"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-weight"     type="number" step="any"  name="attr_armor_weight"   value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-head"       type="number" step="any"  name="attr_armor_head"     value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-rightArm"   type="number" step="any"  name="attr_armor_rightarm" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-leftArm"    type="number" step="any"  name="attr_armor_leftarm"  value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-torso"      type="number" step="any"  name="attr_armor_torso"    value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-stomach"    type="number" step="any"  name="attr_armor_stomach"  value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-rightLeg"   type="number" step="any"  name="attr_armor_rightleg" value="0"/>
                  <input class="sheet-table sheet-data sheet-field sheet-armor-leftleg"    type="number" step="any"  name="attr_armor_leftleg"  value="0"/>
                </div>
                <div class="sheet-armor sheet-table sheet-data sheet-row sheet-hide-while-edit">
                  <span class="sheet-table sheet-data sheet-field sheet-name"      name="attr_armor_name"     ></span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-details"   name="attr_armor_details"  ></span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-weight"    name="attr_armor_weight"   >0</span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-head"      name="attr_armor_head"     >0</span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-rightArm"  name="attr_armor_rightarm" >0</span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-leftArm"   name="attr_armor_leftarm"  >0</span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-torso"     name="attr_armor_torso"    >0</span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-stomach"   name="attr_armor_stomach"  >0</span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-rightLeg"  name="attr_armor_rightleg" >0</span>
                  <span class="sheet-table sheet-data sheet-field sheet-armor-leftleg"   name="attr_armor_leftleg"  >0</span>
                </div>
              </div>
            </fieldset>
            <div class="sheet-armor sheet-table sheet-summary sheet-row sheet-hide-while-edit">
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-weight"   name="attr_armor_weight_sum"   />
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-head"     name="attr_armor_head_sum"     />
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-rightArm" name="attr_armor_rightarm_sum" />
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-leftArm"  name="attr_armor_leftarm_sum"  />
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-torso"    name="attr_armor_torso_sum"    />
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-stomach"  name="attr_armor_stomach_sum"  />
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-rightLeg" name="attr_armor_rightleg_sum" />
              <input hidden class="sheet-table sheet-summary sheet-field sheet-armor-leftLeg"  name="attr_armor_leftleg_sum"  />
              <span class="sheet-table sheet-summary sheet-field sheet-armor-sum sheet-first"                         >Totalt:</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-details"                                 ></span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-weight"   name="attr_armor_weight_sum"   >0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-head"     name="attr_armor_head_sum"     >0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-rightArm" name="attr_armor_rightarm_sum" >0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-leftArm"  name="attr_armor_leftarm_sum"  >0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-torso"    name="attr_armor_torso_sum"    >0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-stomach"  name="attr_armor_stomach_sum"  >0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-rightLeg" name="attr_armor_rightleg_sum" >0</span>
              <span class="sheet-table sheet-summary sheet-field sheet-armor-leftLeg"  name="attr_armor_leftleg_sum"  >0</span>
            </div>
          </div>
          <div class="sheet-combat-grid-weapon">
            <h2 class="sheet-grid-section-header">Vapen</h2>
            <div class="sheet-vapen-grid">
              <div class="sheet-vapen sheet-table sheet-header sheet-row sheet-show-while-edit">
                <div class="sheet-table sheet-header sheet-field sheet-name">Vapen</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skill">Färdighet</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-fv">Fv</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-fv-mod">Mod</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-bv">Bv</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-vikt">Vikt</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-rv">Rv</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skada">Skada</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skada-mod">Mod</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skada-bonus">Bonus</div>
              </div>
              <div class="sheet-vapen sheet-table sheet-header sheet-row sheet-hide-while-edit">
                <div class="sheet-table sheet-header sheet-field sheet-name">Vapen</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skill">Färdighet</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-fv">Fv</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-fv-mod">Mod</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-bv">Bv</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-vikt">Vikt</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-rv">Rv</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skada">Skada</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skada-mod">Mod</div>
                <div class="sheet-table sheet-header sheet-field sheet-vapen-skada-bonus">Bonus</div>
              </div>
              <fieldset class="repeating_vapen">
                <div class="sheet-vapen-pair">
                  <div class="sheet-vapen sheet-table sheet-data sheet-row sheet-show-while-edit">
                    <input class="sheet-table sheet-data sheet-field sheet-name" type="text"   name="attr_vapenNamn"/>
                    <select class="sheet-table sheet-data sheet-field sheet-select sheet-vapen-skill" type="text"   name="attr_vapenSkill"/>
                      <option value="">Inget</option>
                      <option value="@{Armborst}">Armborst</option>
                      <option value="@{Båge}">Båge</option>
                      <option value="@{Dolk}">Dolk</option>
                      <option value="@{Enhandskrossvapen}">Enhandskrossvapen</option>
                      <option value="@{Enhandssvärd}">Enhandssvärd</option>
                      <option value="@{Enhandsyxa}">Enhandsyxa</option>
                      <option value="@{Kastvapen}">Kastvapen</option>
                      <option value="@{Lans}">Lans</option>
                      <option value="@{Parerdolk}">Parerdolk</option>
                      <option value="@{Sköld}">Sköld</option>
                      <option value="@{Slagsmål}">Slagsmål</option>
                      <option value="@{Slunga}">Slunga</option>
                      <option value="@{Stångvapen}">Stångvapen</option>
                      <option value="@{Tvåhandskrossvapen}">Tvåhandskrossvapen</option>
                      <option value="@{Tvåhandssvärd}">Tvåhandssvärd</option>
                      <option value="@{Tvåhandsyxa}">Tvåhandsyxa</option>
                      <option value="@{Stridskonst Svärd}">Stridskonst Svärd</option>
                      <option value="@{Stridskonst Dolk}">Stridskonst Dolk</option>
                      <option value="@{Stridskonst Stångvapen}">Stridskonst Stångvapen</option>
                      <option value="@{Stridskonst Yxa}">Stridskonst Yxa</option>
                      <option value="@{Stridskonst Sköld}">Stridskonst Sköld</option>
                      <option value="@{Strid till häst}">Strid till häst</option>
                    </select>
                    <input class="sheet-table sheet-data sheet-field sheet-vapen-fv"           type="number" name="attr_vapenFv"         value="0"/>
                    <input class="sheet-table sheet-data sheet-field sheet-vapen-fv-mod"       type="number" name="attr_vapenFvMod"      value="0"/>
                    <input class="sheet-table sheet-data sheet-field sheet-vapen-bv"           type="number" name="attr_vapenBv"         value="0"/>
                    <input class="sheet-table sheet-data sheet-field sheet-vapen-vikt"         type="number" name="attr_vapenVikt"       step="any" value="0"/>
                    <input class="sheet-table sheet-data sheet-field sheet-vapen-rv"           type="number" name="attr_vapenRackvidd"   step="any" value="0"/>
                    <input class="sheet-table sheet-data sheet-field sheet-vapen-skada"        type="text"   name="attr_vapenSkada"      value="0"/>
                    <input class="sheet-table sheet-data sheet-field sheet-vapen-skada-mod"    type="number" name="attr_vapenSkadaMod"   value="0"/>
                    <select class="sheet-table sheet-data sheet-field sheet-select sheet-vapen-skada-bonus"               name="attr_vapenSkadaBonus">
                      <option value="@{skadeBonusNone}">Ingen</option>
                      <option value="@{skadeBonusTot}">Normal</option>
                      <option value="@{skadeBonusTvaHandTot}">2-hands</option>
                    </select>
                  </div>
                  <div class="sheet-vapen sheet-table sheet-data sheet-row sheet-hide-while-edit">
                    <span class="sheet-table sheet-data sheet-field sheet-name"        name="attr_vapenNamn"              ></span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-skill"       name="attr_vapenSkillDisplay"      ></span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-fv"          name="attr_vapenFv"                >0</span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-fv-mod"      name="attr_vapenFvMod"             >0</span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-bv"          name="attr_vapenBv"                >0</span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-vikt"        name="attr_vapenVikt"              >0</span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-rv"          name="attr_vapenRackvidd"          >0</span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-skada"       name="attr_vapenSkada"             >0</span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-skada-mod"   name="attr_vapenSkadaMod"          >0</span>
                    <span class="sheet-table sheet-data sheet-field sheet-vapen-skada-bonus" name="attr_vapenSkadaBonusDisplay" >0</span>
                    <input  class="sheet-fardighetstabell"   type="hidden" name="attr_vapenRollAttack"         value="{{typ=Attack&amp;#125;&amp;#125; {{skada=[[@{vapenSkada}+@{vapenSkadaMod}+@{vapenSkadaBonus}]]&amp;#125;&amp;#125; {{var=@{vapenRollTraffa}&amp;#125;&amp;#125; {{slag=[[1d20+@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#124;0&amp;#125; ]]&amp;#125;&amp;#125; {{vad=Vapen&amp;#125;&amp;#125; {{perfektslag=[[1t[perfectRoll]]]&amp;#125;&amp;#125; {{fummelslag=[[1t[fumbleRoll]]]&amp;#125;&amp;#125; {{minmax=yes&amp;#125;&amp;#125; {{perfekt=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#125;+20]]&amp;#125;&amp;#125; {{fummel=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#125;+1]]&amp;#125;&amp;#125"/>
                    <input  class="sheet-fardighetstabell"   type="hidden" name="attr_vapenRollTraffa"         value="?{Träfftabell&amp;#124;Standard&amp;#44; [[ 1t[standard]]]&amp;#124;Högt&amp;#44; [[1t[hitHigh]]]&amp;#124;Lågt&amp;#44; [[ 1t[hitLow]]]&amp;#124;Standard - Avstånd&amp;#44; [[ 1t[standardRanged]]]&amp;#124;Högt - Avstånd&amp;#44; [[ 1t[hitHighRanged]]]&amp;#124;Lågt - Avstånd&amp;#44; [[ 1t[hitLowRanged]]]&amp;#125;"/>
                    <input  class="sheet-fardighetstabell"   type="hidden" name="attr_vapenRollSikta"          value="{{typ=Sikta&amp;#125;&amp;#125; {{skada=[[@{vapenSkada}+@{vapenSkadaMod}+@{vapenSkadaBonus}]]&amp;#125;&amp;#125; {{var=@{vapenRollSiktaPlatser}&amp;#125;&amp;#125; {{slag=[[1d20+@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#124;-5&amp;#125; ]]&amp;#125;&amp;#125; {{vad=Vapen&amp;#125;&amp;#125; {{perfektslag=[[1t[perfectRoll]]]&amp;#125;&amp;#125; {{fummelslag=[[1t[fumbleRoll]]];#125;&amp;#125; {{minmax=yes&amp;#125;&amp;#125; {{perfekt=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#125;+20]]&amp;#125;&amp;#125; {{fummel=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#125;+1]]&amp;#125;&amp;#125"/>
                    <input  class="sheet-fardighetstabell"   type="hidden" name="attr_vapenRollSiktaPlatser"   value="?{Sikta på&amp;#124;Huvudet&amp;#44; huvudet&amp;#124;Vänster arm&amp;#44; Vänster arm&amp;#124;Höger arm&amp;#44; Höger arm&amp;#124;Bröstkorg&amp;#44; Bröstkorg&amp;#124;Mage&amp;#44; Mage&amp;#124;Vänster ben&amp;#44; Vänster ben&amp;#124;Höger ben&amp;#44; Höger ben&amp;#125;"/>
                    <input  class="sheet-fardighetstabell"   type="hidden" name="attr_vapenRollParrera"        value="{{typ=Parrera&amp;#125;&amp;#125; {{slag=[[1d20+@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#124;0&amp;#125; ]]&amp;#125;&amp;#125; {{vad=Vapen&amp;#125;&amp;#125; {{perfektslag=[[1t[perfectRoll]]]&amp;#125;&amp;#125; {{fummelslag=[[1t[fumbleRoll]]]&amp;#125;&amp;#125; {{minmax=yes&amp;#125;&amp;#125; {{perfekt=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#125;+20]]&amp;#125;&amp;#125; {{fummel=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+?{Modifikation&amp;#125;+1]]&amp;#125;&amp;#125"/>
                    <button class="sheet-button-full-hidden sheet-normal-roll" type="roll"   name="roll_vapen" value="&{template:combined} {{name=@{vapenNamn}}} ?{Handling|Attack, @{vapenRollAttack}|Sikta, @{vapenRollSikta}|Parrera, @{vapenRollParrera}}"></button>
                    <button class="sheet-button-full-hidden sheet-simple-roll" type="roll"   name="roll_vapen" value="&{template:combined} {{name=@{vapenNamn}}} {{typ=Attack}} {{skada=[[@{vapenSkada}+@{vapenSkadaMod}+@{vapenSkadaBonus}]]}} {{var=[[1t[standard]]]}} {{slag=[[1d20+@{vapenSkill}+@{vapenFv}+@{vapenFvMod}]]}} {{vad=Vapen}} {{perfektslag=[[1t[perfectRoll]]]}} {{fummelslag=[[1t[fumbleRoll]]]}} {{minmax=yes}} {{perfekt=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+20]]}} {{fummel=[[@{vapenSkill}+@{vapenFv}+@{vapenFvMod}+1]]}}"></button>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>
        </div>
      </li>
      <li name="Utrustning">
        <input type="checkbox" class="sheet-list-header sheet-equipment-tab" checked/>
        <h1>Utrustning</h1>
        <div class="sheet-section sheet-grid sheet-equiptment-grid">
          <div class="sheet-equiptment-grid-list">
            <h2 class="sheet-grid-section-header">Utrustning</h2>
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-allt"            value="Alla typer" checked/>
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-djur"            value="Djur"   />
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-drycker"         value="Drycker"         />
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-egendom"         value="Egendom"         />
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-klader"          value="Kläder"   />
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-magiska"         value="Magiska föremål"  />
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-pengar"          value="Pengar"   />
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-quest"           value="Quest"/>        
            <input type="radio" name="attr_equiptment_type" class="sheet-hidden sheet-utrustning-ovrigt"          value="Övrigt"/>
            <input type="radio" name="attr_equiptment_place" class="sheet-hidden sheet-place-all"                 value="Alla platser" checked/>
            <input type="radio" name="attr_equiptment_place" class="sheet-hidden sheet-place-backpack"            value="Packning"/>
            <input type="radio" name="attr_equiptment_place" class="sheet-hidden sheet-place-bank"                value="Bank"/>
            <input type="radio" name="attr_equiptment_place" class="sheet-hidden sheet-place-character"           value="Karaktär"/>
            <input type="radio" name="attr_equiptment_place" class="sheet-hidden sheet-place-house"               value="Hus"/>
            <input type="radio" name="attr_equiptment_place" class="sheet-hidden sheet-place-horse"               value="Häst"/>
            <div class="sheet-equiptment sheet-table sheet-header sheet-row sheet-show-while-edit">
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-name">Föremål</div>
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-left sheet-desc">Beskrivning</div>
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-amount">Antal</div>
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-weight">Vikt (kg)</div>
              <select class="sheet-equiptment sheet-table sheet-header sheet-field sheet-select sheet-what" name="attr_equiptment_type">
                <option>Alla typer</option>
                <option>Djur</option>
                <option>Drycker</option>
                <option>Egendom</option>
                <option>Kläder</option>
                <option>Magiska föremål</option>
                <option>Pengar</option>
                <option>Quest</option>
                <option>Övrigt</option>
              </select>
              <select class="sheet-equiptment sheet-table sheet-header sheet-field sheet-select sheet-where" name="attr_equiptment_place">
                <option>Alla platser</option>
                <option>Bank</option>
                <option>Hus</option>
                <option>Häst</option>
                <option>Karaktär</option>
                <option>Packning</option>
              </select>
            </div>
            <div class="sheet-equiptment sheet-table sheet-header sheet-row sheet-hide-while-edit">
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-name">Föremål</div>
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-left sheet-desc">Beskrivning</div>
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-amount">Antal</div>
              <div class="sheet-equiptment sheet-table sheet-header sheet-field sheet-weight">Vikt (kg)</div>
              <select class="sheet-equiptment sheet-table sheet-header sheet-field sheet-select sheet-what" name="attr_equiptment_type">
                <option>Alla typer</option>
                <option>Djur</option>
                <option>Drycker</option>
                <option>Egendom</option>
                <option>Kläder</option>
                <option>Magiska föremål</option>
                <option>Pengar</option>
                <option>Quest</option>
                <option>Övrigt</option>
              </select>
              <select class="sheet-equiptment sheet-table sheet-header sheet-field sheet-select sheet-where" name="attr_equiptment_place">
                <option>Alla platser</option>
                <option>Bank</option>
                <option>Hus</option>
                <option>Häst</option>
                <option>Karaktär</option>
                <option>Packning</option>
              </select>
            </div>
            <fieldset class="repeating_equiptment">
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-allt"           value="Alla typer" checked/>
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-djur"           value="Djur"   />
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-drycker"        value="Drycker"         />
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-egendom"        value="Egendom"         />
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-klader"         value="Kläder"   />
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-magiska"        value="Magiska föremål"  />
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-pengar"         value="Pengar"         />
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-quest"         value="Quest"         />
              <input type="radio" name="attr_equiptment_filter"       class="sheet-hidden sheet-utrustning-ovrigt"         value="Övrigt"     />
              <input type="radio" name="attr_equiptment_filter_place" class="sheet-hidden sheet-place-all"                 value="Alla platser" checked/>
              <input type="radio" name="attr_equiptment_filter_place" class="sheet-hidden sheet-place-backpack"            value="Packning"/>
              <input type="radio" name="attr_equiptment_filter_place" class="sheet-hidden sheet-place-bank"                value="Bank"/>
              <input type="radio" name="attr_equiptment_filter_place" class="sheet-hidden sheet-place-character"           value="Karaktär"/>
              <input type="radio" name="attr_equiptment_filter_place" class="sheet-hidden sheet-place-house"               value="Hus"/>
              <input type="radio" name="attr_equiptment_filter_place" class="sheet-hidden sheet-place-horse"               value="Häst"/>
              <div class="sheet-equiptment-pair">
                <div class="sheet-equiptment sheet-table sheet-data sheet-row sheet-show-while-edit">
                  <input class="sheet-equiptment sheet-table sheet-data sheet-field sheet-name" type="text" name="attr_equiptment_item" value=""/>
                  <input class="sheet-equiptment sheet-table sheet-data sheet-field sheet-left sheet-desc" type="text" name="attr_equiptment_desc" value=""/>
                  <input class="sheet-equiptment sheet-table sheet-data sheet-field sheet-amount" type="number" step="any" name="attr_equiptment_amount" value=""/>
                  <input class="sheet-equiptment sheet-table sheet-data sheet-field sheet-weight" type="number" step="any" name="attr_equiptment_weight" value=""/>
                  <select class="sheet-equiptment sheet-table sheet-data sheet-field sheet-select" name="attr_equiptment_filter">
                    <option>Alla typer</option>
                    <option>Djur</option>
                    <option>Drycker</option>
                    <option>Egendom</option>
                    <option>Kläder</option>
                    <option>Magiska föremål</option>
                    <option>Pengar</option>
                    <option>Quest</option>
                    <option>Övrigt</option>
                  </select>
                  <select class="sheet-equiptment sheet-table sheet-data sheet-field sheet-select" name="attr_equiptment_filter_place">
                    <option>Alla platser</option>
                    <option>Bank</option>
                    <option>Hus</option>
                    <option>Häst</option>
                    <option>Karaktär</option>
                    <option>Packning</option>
                  </select>
                </div>
                <div class="sheet-equiptment sheet-table sheet-data sheet-row sheet-hide-while-edit">
                  <span class="sheet-equiptment sheet-table sheet-data sheet-field sheet-name" name="attr_equiptment_item"></span>
                  <span class="sheet-equiptment sheet-table sheet-data sheet-field sheet-left sheet-desc" name="attr_equiptment_desc"></span>
                  <span class="sheet-equiptment sheet-table sheet-data sheet-field sheet-amount" name="attr_equiptment_amount"></span>
                  <span class="sheet-equiptment sheet-table sheet-data sheet-field sheet-weight" name="attr_equiptment_weight"></span>
                  <span class="sheet-equiptment sheet-table sheet-data sheet-field sheet-select-value sheet-left" name="attr_equiptment_filter"></span>
                  <span class="sheet-equiptment sheet-table sheet-data sheet-field sheet-select-value sheet-left" name="attr_equiptment_filter_place"></span>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
      </li>
    </ul>

    <div class="sheet-version-row">
      <span>Version 0.5.5</span>
    </div>
  </div>




  <rolltemplate class="sheet-rolltemplate-DoDSummaEllerMotstandGrundegenskap">
    <div class="container">
      <div><h1>Grundegenskap</h1></div>
      {{#slag}}
      <div class="rowcolor"><span class="tcat">Slag: </span>{{ slag }}</div>
      {{/slag}}
      {{#effekt}}
      <div class="rowcolor">
        <span class="tcat">Effektgrad: </span>{{ effekt }}
      </div>
      {{/effekt}}
      {{#skada}}
      <div class="rowcolor"><span class="tcat">Skada: </span>{{ skada }}</div>
      {{/skada}}

      <div class="arrow-container"><div class="line"></div></div>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-DoDSummaEllerMotstandMagi">
    <div class="container">
      <div><h1>Magi</h1></div>
      {{#slag}}
      <div class="rowcolor"><span class="tcat">Slag: </span>{{ slag }}</div>
      {{/slag}}
      {{#effekt}}
      <div class="rowcolor">
        <span class="tcat">Effektgrad: </span>{{ effekt }}
      </div>
      {{/effekt}}
      {{#skada}}
      <div class="rowcolor"><span class="tcat">Skada: </span>{{ skada }}</div>
      {{/skada}}

      <div class="arrow-container"><div class="line"></div></div>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-DoDSummaEllerMotstandFardighet">
    <div class="container">
      <div><h1>Färdighet</h1></div>
      {{#slag}}
      <div class="rowcolor"><span class="tcat">Slag: </span>{{ slag }}</div>
      {{/slag}}
      {{#skada}}
      <div class="rowcolor"><span class="tcat">Skada: </span>{{ skada }}</div>
      {{/skada}}
      {{#var}}
      <div class="rowcolor"><span class="tcat">var: </span>{{ var }}</div>
      {{/var}}

      <div class="arrow-container"><div class="line"></div></div>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-DoDSummaEllerMotstandVapen">
    <div class="container">
      <div><h1>Vapen</h1></div>
      {{#rollTotal() parrering 1}}
      {{#slag}}
      <div class="rowcolor">
        <span class="tcat">Parrering: </span>{{ slag }}
      </div>
      {{/slag}}
      {{/rollTotal() parrering 1}}

      {{#rollTotal() parrering 0}}
      {{#slag}}
      <div class="rowcolor"><span class="tcat">Slag: </span>{{ slag }}</div>
      {{/slag}}
      {{#effekt}}
      <div class="rowcolor">
        <span class="tcat">Effektgrad: </span>{{ effekt }}
      </div>
      {{/effekt}}
      {{#skada}}
      <div class="rowcolor"><span class="tcat">Skada: </span>{{ skada }}</div>
      {{/skada}}
      {{#var}}
      <div class="rowcolor"><span class="tcat">var: </span>{{ var }}</div>
      {{/var}}
      {{/rollTotal() parrering 0}}

      <div class="arrow-container"><div class="line"></div></div>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-DoDSummaEllerMotstandVapenTest">
    <div class="container">
      <div><h1>Vapen, test</h1></div>
      {{#typ}}
      <div class="rowcolor"><span class="tcat">typ: </span>{{ typ }}</div>
      {{/typ}}
      {{#slag}}
      <div class="rowcolor"><span class="tcat">Slag: </span>{{ slag }}</div>
      {{/slag}}

      {{#skada}}
      <div class="rowcolor"><span class="tcat">Skada: </span>{{ skada }}</div>
      {{/skada}}
      {{#var}}
      <div class="rowcolor"><span class="tcat">var: </span>{{ var }}</div>
      {{/var}}

      <div class="arrow-container"><div class="line"></div></div>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-dropdownTest">
    <div class="container">
      <div class="arrow-container"><div class="line"></div></div>

      {{#typ}}<div><h1>{{typ}}</h1></div>{{/typ}}
      {{^typ}}<div><h1>Handling</h1></div>{{/typ}}
      <table>
        {{#name}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">Vapen: </span></div></td>
            <td><div class="rowcolor"><span class="sheet-bold">{{ name }}</span></div></td>
          </tr>
        {{/name}}

        {{#slag}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">Rullar: </span></div></td>
            <td><div class="rowcolor">{{ slag }}</div></td>
          </tr>
        {{/slag}}
        
        {{#effekt}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">Effektgrad: </span></div></td>
            <td><div class="rowcolor"><span class="sheet-bold">{{ effekt }}</span></div></td>
          </tr>
        {{/effekt}}

        {{#skada}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">skada: </span></div></td>
            <td><div class="rowcolor">{{ skada }}</div></td>
          </tr>
        {{/skada}}

        {{#var}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">Träffar: </span></div></td>
            <td><div class="rowcolor"><span class="sheet-bold">{{ var }}</span></div></td>
          </tr>
        {{/var}}

      </table>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-combined">
    <div class="container">
      <div class="arrow-container"><div class="line"></div></div>

      {{#typ}}<div><h1>{{typ}}</h1></div>{{/typ}}
      {{^typ}}<div><h1>Handling</h1></div>{{/typ}}
      <table>
        {{#name}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">{{ vad }}: </span></div></td>
            <td><div class="rowcolor"><span class="sheet-bold">{{ name }}</span></div></td>
          </tr>
        {{/name}}

        {{#slag}}
          {{^minmax}}
            <tr>
              <td><div class="rowcolor"><span class="tcat">Rullar: </span></div></td>
              <td><div class="rowcolor">{{ slag }}</div></td>
            </tr>
          {{/minmax}}
          {{#minmax}}
            <tr>
              <td><div class="rowcolor"><span class="tcat">Rullar: </span></div></td>
              <td><div class="rowcolor">{{ slag }}</div></td>
              <td><div class="rowcolor"></div></td>
            </tr>
            {{#rollTotal() slag perfekt}}
              <tr>
                <td><div class="rowcolor"><span class="tcat">Perfekt: </span></div></td>
                <td><div class="rowcolor sheet-perfekt"><span class="sheet-bold">{{ perfektslag  }}</span></div></td>
              </tr>
            {{/rollTotal() slag perfekt}}
            {{#rollTotal() slag fummel}}
              <tr>
                <td><div class="rowcolor"><span class="tcat">Fummel: </span></div></td>
                <td><div class="rowcolor sheet-fummel"><span class="sheet-bold">{{ fummelslag  }}</span></div></td>
              </tr>
            {{/rollTotal() slag fummel}}
          {{/minmax}}
          {{#conditional}}
            {{#rollGreater() slag -1}}
              <tr>
                <td><div class="rowcolor"><span class="tcat">Slaget: </span></div></td>
                <td><div class="rowcolor"><span class="sheet-bold">Lyckas</span></div></td>
              </tr>
              {{#resultat}}
                <tr>
                  <td><div class="rowcolor"><span class="tcat">{{ resultatLabel }}: </span></div></td>
                  <td><div class="rowcolor"><span class="sheet-bold success">{{ resultat }}</span></div></td>
                </tr>
              {{/resultat}}
            {{/rollGreater() slag -1}}
            {{#rollLess() slag 0}}
              <tr>
                <td><div class="rowcolor"><span class="tcat">Slaget: </span></div></td>
                <td><div class="rowcolor"><span class="sheet-bold failure">Misslyckas</span></div></td>
              </tr>
            {{/rollLess() slag 0}}
          {{/conditional}}
        {{/slag}}
 
        {{#effekt}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">Effektgrad: </span></div></td>
            <td><div class="rowcolor"><span class="sheet-bold">{{ effekt }}</span></div></td>
          </tr>
        {{/effekt}}

        {{#skada}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">skada: </span></div></td>
            <td><div class="rowcolor">{{ skada }}</div></td>
          </tr>
        {{/skada}}

        {{#var}}
          <tr>
            <td><div class="rowcolor"><span class="tcat">Träffar: </span></div></td>
            <td><div class="rowcolor"><span class="sheet-bold">{{ var }}</span></div></td>
          </tr>
        {{/var}}

      </table>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-DoDFardighet">
    <div class="container">
      <div><h1>Färdighet</h1></div>
      <div>
        <h1>{{ name }}</h1>
      </div>
      <div>
        <span class="subheader">{{ subtags }}</span>
      </div>
      <div class="arrow-container"><div class="line"></div></div>
      <div class="rowcolor">
        <span class="tcat"></span>{{ slag }} vs {{ fardighet }}
      </div>
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-DoDText">
    <div class="container">
      <div>
        <h1>{{ name }}</h1>
      </div>
      <div>
        <span class="subheader">{{ subtags }}</span>
      </div>
      <div class="arrow-container"><div class="line"></div></div>
      <div class="rowcolor">
        <span class="tcat">{{#titel}}{{ titel }}{{/titel}}</span
        >{{ text }}
      </div>
      {{#text2}}
      <div class="arrow-container"><div class="line"></div></div>
      <div class="rowcolor">
        <span class="tcat">{{#titel2}}{{ titel2 }}{{/titel2}}</span
        >{{ text2 }}
      </div>
      {{/text2}}
    </div>
  </rolltemplate>

  <rolltemplate class="sheet-rolltemplate-DoDAttack">
    <div class="container">
      <div>
        <h1>{{ name }}</h1>
      </div>
      <div>
        <span class="subheader">{{ subtags }}</span>
      </div>
      <div class="arrow-container"><div class="line"></div></div>
      <div class="rowcolor">
        <span class="tcat"></span>{{ slag }} vs {{ fardighet }}
      </div>
      {{#traff}}
      <div class="rowcolor"><span class="tcat">Träff: </span>{{ traff }}</div>
      {{/traff}}
      {{#skada}}
      <div class="rowcolor"><span class="tcat">Skada: </span>{{ skada }}</div>
      {{/skada}}
    </div>
  </rolltemplate>
</div>


<script type="text/worker">
  /* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function(){
    'use strict';

    var version = '0.2.5',
        lastUpdate = 1504710542,

        loggingSettings = {
            debug: {
                key:     'debug',
                title:   'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label:   '#F2EF40',
                    bgText:  '#FFFEB7',
                    text:    '#7732A2'
                }
            },
            error: {
                key:     'error',
                title:   'Error',
                color: {
                    bgLabel: '#C11713',
                    label:   'white',
                    bgText:  '#C11713',
                    text:    'white'
                }
            },
            warn: {
                key:     'warn',
                title:   'Warning',
                color: {
                    bgLabel: '#F29140',
                    label:   'white',
                    bgText:  '#FFD8B7',
                    text:    'black'
                }
            },
            info: {
                key:     'info',
                title:   'Info',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            notice: {
                key:     'notice',
                title:   'Notice',
                color: {
                    bgLabel: '#33C133',
                    label:   'white',
                    bgText:  '#ADF1AD',
                    text:    'black'
                }
            },
            log: {
                key:     'log',
                title:   'Log',
                color: {
                    bgLabel: '#f2f240',
                    label:   'black',
                    bgText:  '#ffff90',
                    text:    'black'
                }
            },
            callstack: {
                key:     'TAS',
                title:   'function',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            callstack_async: {
                key:     'TAS',
                title:   'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#413FA9',
                    text:    'white'
                }
            },
            TAS: {
                key:     'TAS',
                title:   'TAS',
                color: {
                    bgLabel: 'grey',
                    label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText:  'grey',
                    text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },


        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },

        callstackRegistry = [],
		queuedUpdates = {}, //< Used for delaying saves till the last moment.

    complexType = function(o){
        switch(typeof o){
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },

	dataLogger = function(primaryLogger,secondaryLogger,data){
        _.each(data,function(m){
            var type = complexType(m);
            switch(type){
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('['+type+']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('['+type+']: '+m);
                    break;
                default:
                    primaryLogger('['+type+']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
	},


    colorLog = function(options){
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';

        coloredLoggerFunction = function(message){
            /* eslint-disable no-console */
            console.log(
                '%c '+label+': %c '+message + ' ',
                'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                'background-color: '+mBGColor+';color: '+mTxtColor+';'
            ); 
            /* eslint-enable no-console */
        };
        return function(){
            if('TAS'===key || config.logging[key]){
                /* eslint-disable no-console */
               dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
                /* eslint-enable no-console */
            }
        };
    },

    logDebug  = colorLog(loggingSettings.debug),
    logError  = colorLog(loggingSettings.error),
    logWarn   = colorLog(loggingSettings.warn),
    logInfo   = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog    = colorLog(loggingSettings.log),
    log       = colorLog(loggingSettings.TAS),
    logCS     = colorLog(loggingSettings.callstack),
    logCSA    = colorLog(loggingSettings.callstack_async),

    registerCallstack = function(callstack,label){
        var idx=_.findIndex(callstackRegistry,function(o){
            return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
                _.difference(o.stack,callstack).length === 0 &&
                o.label === label;
        });
        if(-1 === idx){
            idx=callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },

    setConfigOption = function(options){
        var newconf =_.defaults(options,config);
        newconf.logging=_.defaults(
            (options && options.logging)||{},
            config.logging
        );
        config=newconf;
    },
    
    isDebugMode = function(){
        return config.debugMode;
    },

    debugMode = function(){
        config.logging.debug=true;
        config.debugMode = true;
    },

    getCallstack = function(){
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')),function(l){
                return l.replace(/\s+.*$/,'');
            });
        return stack;
    },
    logCallstackSub = function(cs){
        var matches, csa;
        _.find(cs,function(line){
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if(matches){
               csa=callstackRegistry[matches[1]];
               logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
               logCallstackSub(csa.stack);
               return true;
            } 
            logCS(line);
            return false;
        });
    },
    logCallstack = function(){
        var cs;
        if(config.debugMode){
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },


    wrapCallback = function (label, callback, context){
        var callstack;
        if('function' === typeof label){
            context=callback;
            callback=label;
            label=undefined;
        }
        if(!config.debugMode){
            return (function(cb,ctx){
                return function(){
                    cb.apply(ctx||{},arguments);
                };
            }(callback,context));
        }
        
        callstack = getCallstack();
        callstack.shift();
        
        return (function(cb,ctx,cs,lbl){
            var ctxref=registerCallstack(cs,lbl);

            /*jshint -W054 */
            return new Function('cb','ctx','TASlog',
                "return function TAS_CALLSTACK_"+ctxref+"(){"+
                    "var start,end;"+
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                    "start=_.now();"+
                    "cb.apply(ctx||{},arguments);"+
                    "end=_.now();"+
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)')+' :: '+(end-start)+'ms elapsed');"+
                "};")(cb,ctx,log);
            /*jshint +W054 */
        }(callback,context,callstack,label));
    },


    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },

    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },

	namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
	},

	addId = function(obj,value){
		Object.defineProperty(obj,'id',{
			value: value,
			writable: false,
			enumerable: false
		});
	},

	addProp = function(obj,prop,value,fullname){
		(function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
                full_pname = fullname || prop,
                pvalue=value;

            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
			Object.defineProperty(obj, pname, {
                enumerable: true,
				set: function(v){
                    if(v!==pvalue) {
                        pvalue=v;
                        prepareUpdate(full_pname,v);
                    }
				},
				get: function(){
					return pvalue;
				}
			});
            
            // string value
			Object.defineProperty(obj.S, pname, {
                enumerable: true,
				set: function(v){
                    var val=v.toString();
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return pvalue.toString();
				}
			});

            // int value
			Object.defineProperty(obj.I, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseInt(v,10) || 0;
                    if(val !== pvalue){
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseInt(pvalue,10) || 0;
				}
			});

            // float value
			Object.defineProperty(obj.F, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseFloat(v) || 0;
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseFloat(pvalue) || 0;
				}
			});
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        if(val !== pvalue){
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

		}());
	},
	
	repeating = function( section ) {
		return (function(s){
			var sectionName = s,
				attrNames = [],
				fieldNames = [],
				operations = [],
                after = [],
			
			repAttrs = function TAS_Repeating_Attrs(){
				attrNames = namesFromArgs(arguments,attrNames);
				return this;
			},
			repFields = function TAS_Repeating_Fields(){
				fieldNames = namesFromArgs(arguments,fieldNames);
				return this;
			},
			repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
				operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
			repMap = function TAS_Repeating_Map(func, final, context) {
				operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
            repEach = function TAS_Repeating_Each(func, final, context) {
				operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
				operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repAfter = function TAS_Repeating_After(callback,context) {
				after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
				return this;
            },
			repExecute = function TAS_Repeating_Execute(callback,context){
				var rowSet = {},
					attrSet = {},
					fieldIds = [],
					fullFieldNames = [];

                repAfter(callback,context);

				// call each operation per row.
				// call each operation's final
				getSectionIDs("repeating_"+sectionName,function(ids){
					fieldIds = ids;
					fullFieldNames = _.reduce(fieldIds,function(memo,id){
						return memo.concat(_.map(fieldNames,function(name){
							return 'repeating_'+sectionName+'_'+id+'_'+name;  
						}));
					},[]);
					getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
						_.each(attrNames,function(aname){
							if(values.hasOwnProperty(aname)){
								addProp(attrSet,aname,values[aname]);
							}
						});

						rowSet = _.reduce(fieldIds,function(memo,id){
							var r={};
							addId(r,id);
							_.each(fieldNames,function(name){
								var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
								addProp(r,name,values[fn],fn);
							});

							memo[id]=r;

							return memo;
						},{});

                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after,function(op){
                            _.bind(op.callback,op.context)();
                        });
					});
				});
			};
				
			return {
				attrs: repAttrs,
				attr: repAttrs,

				column: repFields,
				columns: repFields,
				field: repFields,
				fields: repFields,

				reduce: repReduce,
				inject: repReduce,
				foldl: repReduce,

				map: repMap,
				collect: repMap,

				each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

				after: repAfter,
				last: repAfter,
				done: repAfter,

				execute: repExecute,
				go: repExecute,
				run: repExecute
			};
		}(section));
	},


    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a.S[destination]=t;
            })
            .execute();
    };

    /* eslint-disable no-console */
	console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  The Aaron Sheet  v'+version+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
	console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  Last update: '+(new Date(lastUpdate*1000))+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
    /* eslint-enable no-console */


    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
		repeating: repeating,

        /* Configuration */
        config: setConfigOption,

        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        isDebugMode: isDebugMode,
        _fn: wrapCallback,

        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());

/* ---- END: TheAaronSheet.js ---- */

/* ===== PARAMETERS ==========
destinations = the name of the attribute that stores the total quantity
        can be a single attribute, or an array: ['total_cost', 'total_weight']
        If more than one, the matching fields must be in the same order. 
    section = name of repeating fieldset, without the repeating_
    fields = the name of the attribute field to be summed
          destination and fields both can be a single attribute: 'weight'
          or an array of attributes: ['weight','number','equipped']
*/
const repeatingSumEquiptment = (destinations, section, fields) => {
    if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];
    if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];
    getSectionIDs(`repeating_${section}`, idArray => {
        const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);
        getAttrs([...attrArray], v => {
            const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'Karaktär' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
            const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
            const output = {};
            destinations.forEach((destination, index) => {
                output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);
            });
            setAttrs(output);
        }); 
    }); 
};


  on("change:sty change:stymod sheet:opened", function() {
    getAttrs(["sty", "styMod"], function(values) {
        var number = parseInt(values["sty"],10)||0;
        var modifier = parseInt(values["styMod"],10)||0;
        setAttrs({
            styTot: modifier+number
        });
    });
  });

  on("change:fys change:fysmod sheet:opened", function() {
    getAttrs(["fys", "fysMod"], function(values) {
        var number = parseInt(values["fys"],10)||0;
        var modifier = parseInt(values["fysMod"],10)||0;
        setAttrs({
            fysTot: modifier+number
        });
    });
  });

  on("change:smi change:smimod sheet:opened", function() {
    getAttrs(["smi", "smiMod"], function(values) {
        var number = parseInt(values["smi"],10)||0;
        var modifier = parseInt(values["smiMod"],10)||0;
        setAttrs({
            smiTot: modifier+number
        });
    });
  });

  on("change:int change:intmod sheet:opened", function() {
    getAttrs(["int", "intMod"], function(values) {
        var number = parseInt(values["int"],10)||0;
        var modifier = parseInt(values["intMod"],10)||0;
        setAttrs({
            intTot: modifier+number
        });
    });
  });

  on("change:psy change:psymod sheet:opened", function() {
    getAttrs(["psy", "psyMod"], function(values) {
        var psy = parseInt(values["psy"],10)||0;
        var psyMod = parseInt(values["psyMod"],10)||0;
        setAttrs({
            psyTot: psy+psyMod
        });
    });
  });

  on("change:kar change:karmod sheet:opened", function() {
    getAttrs(["kar", "karMod"], function(values) {
        var number = parseInt(values["kar"],10)||0;
        var modifier = parseInt(values["karMod"],10)||0;
        setAttrs({
            karTot: modifier+number
        });
    });
  });

  on("change:sto change:stomod sheet:opened", function() {
    getAttrs(["sto", "stoMod"], function(values) {
        var number = parseInt(values["sto"],10)||0;
        var modifier = parseInt(values["stoMod"],10)||0;
        setAttrs({
            stoTot: modifier+number
        });
    });
  });

  on("change:stytot change:stotot change:skadebonusmod sheet:opened", function() {
    getAttrs(["styTot", "stoTot", "skadeBonusMod", "skadeBonusNone"], function(values) {
        const styTot = parseInt(values["styTot"],10)||0;
        const stoTot = parseInt(values["stoTot"],10)||0;
        const damagebonusMod = values.skadeBonusMod;
        const None = 0;
        const sum = styTot+stoTot;
        let damagebonus = "";
        let damagebonusTwoHanded = "";
        let damagebonusTotal = "";
        let damagebonusTwoHandedTotal = "";
        if (sum < 27) {
          damagebonus = "0"
          damagebonusTwoHanded = "1"
        } else if (sum < 30) {
          damagebonus = "1"
          damagebonusTwoHanded = "1d2"
        } else if (sum < 33) {
          damagebonus = "1d2"
          damagebonusTwoHanded = "1d4"
        } else if (sum < 41) {
          damagebonus = "1d4"
          damagebonusTwoHanded = "1d6"
        } else if (sum < 51) {
          damagebonus = "1d6"
          damagebonusTwoHanded = "1d8"
        } else if (sum < 61) {
          damagebonus = "1d8"
          damagebonusTwoHanded = "1d10"
        } else if (sum < 71) {
          damagebonus = "1d10"
          damagebonusTwoHanded = "2d6"
        } else if (sum < 91) {
          damagebonus = "2d6"
          damagebonusTwoHanded = "3d6"
        } else if (sum < 111) {
          damagebonus = "3d6"
          damagebonusTwoHanded = "4d6"
        } else if (sum < 141) {
          damagebonus = "4d6"
          damagebonusTwoHanded = "5d6"
        } else if (sum < 191) {
          damagebonus = "5d6"
          damagebonusTwoHanded = "6d6"
        } else {
          damagebonus = "6d6"
          damagebonusTwoHanded = "7d6"
        }
        if (damagebonusMod) {
          damagebonusTotal = damagebonus + "+" + damagebonusMod
          damagebonusTwoHandedTotal = damagebonusTwoHanded + "+" + damagebonusMod
        } else {
          damagebonusTotal = damagebonus
          damagebonusTwoHandedTotal = damagebonusTwoHanded
        }
        setAttrs({
            skadeBonus: damagebonus,
            skadeBonusNone: None,
            skadeBonusTot: damagebonusTotal,
            skadeBonusTvaHand: damagebonusTwoHanded,
            skadeBonusTvaHandTot: damagebonusTwoHandedTotal
        });
    });
  });

  on("change:psytot change:psykepoangmod sheet:opened", function() {
    getAttrs(["psytot", "psykePoangGrund", "psykePoangMod"], function(values) {
        var psykeTotal = parseInt(values["psytot"],10)||0;
        var psykePoangMod = parseInt(values["psykePoangMod"],10)||0;
        setAttrs({
            psykePoangGrund: psykeTotal,
            psykePoang_max: psykeTotal+psykePoangMod
        });
    });
  });

  on("change:psykepoang_max change:psykepoangforbrukade sheet:opened", function() {
    getAttrs(["psykePoang_max", "psykePoangForbrukade"], function(values) {
        var psykePoang_max = parseInt(values["psykePoang_max"],10)||0;
        var psykePoangForbrukade = parseInt(values["psykePoangForbrukade"],10)||0;
        setAttrs({
            psykePoang: psykePoang_max-psykePoangForbrukade
        });
    });
  });

  on("change:fystot change:stotot change:kroppspoangmod sheet:opened", function() {
    getAttrs(["fysTot", "stoTot", "kroppsPoangMod"], function(values) {
        var fysTot = parseInt(values["fysTot"],10)||0;
        var stoTot = parseInt(values["stoTot"],10)||0;
        var kpMod = parseInt(values["kroppsPoangMod"],10)||0;
        setAttrs({
            kroppsPoang: Math.ceil((fysTot+stoTot)/2),
            kp_max: Math.ceil((fysTot+stoTot)/2)+kpMod
        });
    });
  });

  on("change:kp_max sheet:opened", function() {
    getAttrs(["kp_max"], function(values) {
        var kp_max = parseInt(values["kp_max"],10)||0;
        setAttrs({
          kphuvud_max: (Math.ceil(kp_max/2))-2,
          kphogerarm_max: (Math.ceil(kp_max/2))-2,
          kpvansterarm_max: (Math.ceil(kp_max/2))-2,
          kpbrost_max: Math.ceil(kp_max/2),
          kpmage_max: (Math.ceil(kp_max/2))-1,
          kphogerben_max: (Math.ceil(kp_max/2))-1,
          kpvansterben_max: (Math.ceil(kp_max/2))-1,
          kpgenerell_max: kp_max
        });
    });
  });


  on("change:kphuvud_max change:sarhuvud sheet:opened", function() {
    getAttrs(["kphuvud_max", "sarhuvud"], function(values) {
        var kphuvud_max = parseInt(values["kphuvud_max"],10)||0;
        var sarhuvud = parseInt(values["sarhuvud"],10)||0;
        setAttrs({
            kphuvud: kphuvud_max-sarhuvud
        });
    });
  });

  on("change:kpvansterarm_max change:sarvansterarm sheet:opened", function() {
    getAttrs(["kpvansterarm_max", "sarvansterarm"], function(values) {
        var kpvansterarm_max = parseInt(values["kpvansterarm_max"],10)||0;
        var sarvansterarm = parseInt(values["sarvansterarm"],10)||0;
        setAttrs({
          kpvansterarm: kpvansterarm_max-sarvansterarm
        });
    });
  });

  on("change:kphogerarm_max change:sarhogerarm sheet:opened", function() {
    getAttrs(["kphogerarm_max", "sarhogerarm"], function(values) {
        var kphogerarm_max = parseInt(values["kphogerarm_max"],10)||0;
        var sarhogerarm = parseInt(values["sarhogerarm"],10)||0;
        setAttrs({
          kphogerarm: kphogerarm_max-sarhogerarm
        });
    });
  });

  on("change:kpbrost_max change:sarbrost sheet:opened", function() {
    getAttrs(["kpbrost_max", "sarbrost"], function(values) {
        var kpbrost_max = parseInt(values["kpbrost_max"],10)||0;
        var sarbrost = parseInt(values["sarbrost"],10)||0;
        setAttrs({
          kpbrost: kpbrost_max-sarbrost
        });
    });
  });

  on("change:kpmage_max change:sarmage sheet:opened", function() {
    getAttrs(["kpmage_max", "sarmage"], function(values) {
        var kpmage_max = parseInt(values["kpmage_max"],10)||0;
        var sarmage = parseInt(values["sarmage"],10)||0;
        setAttrs({
          kpmage: kpmage_max-sarmage
        });
    });
  });

  on("change:kphogerben_max change:sarhogerben sheet:opened", function() {
    getAttrs(["kphogerben_max", "sarhogerben"], function(values) {
        var kphogerben_max = parseInt(values["kphogerben_max"],10)||0;
        var sarhogerben = parseInt(values["sarhogerben"],10)||0;
        setAttrs({
          kphogerben: kphogerben_max-sarhogerben
        });
    });
  });

  on("change:kpvansterben_max change:sarvansterben sheet:opened", function() {
    getAttrs(["kpvansterben_max", "sarvansterben"], function(values) {
        var kpvansterben_max = parseInt(values["kpvansterben_max"],10)||0;
        var sarvansterben = parseInt(values["sarvansterben"],10)||0;
        setAttrs({
          kpvansterben: kpvansterben_max-sarvansterben
        });
    });
  });

  on("change:kpgenerell_max change:sargenerell sheet:opened", function() {
    getAttrs(["kpgenerell_max", "sargenerell"], function(values) {
        var kpgenerell_max = parseInt(values["kpgenerell_max"],10)||0;
        var sargenerell = parseInt(values["sargenerell"],10)||0;
        setAttrs({
          kpgenerell: kpgenerell_max-sargenerell
        });
    });
  });

  on("change:sarhuvud change:sarvansterarm change:sarhogerarm change:sarbrost change:sarmage change:sarvansterben change:sarhogerben change:sargenerell sheet:opened", function() {
    getAttrs(["sarhuvud", "sarvansterarm", "sarhogerarm", "sarbrost", "sarmage", "sarvansterben", "sarhogerben", "sargenerell"], function(values) {
        var sarhuvud = parseInt(values["sarhuvud"],10)||0;
        var sarvansterarm = parseInt(values["sarvansterarm"],10)||0;
        var sarhogerarm = parseInt(values["sarhogerarm"],10)||0;
        var sarbrost = parseInt(values["sarbrost"],10)||0;
        var sarmage = parseInt(values["sarmage"],10)||0;
        var sarvansterben = parseInt(values["sarvansterben"],10)||0;
        var sarhogerben = parseInt(values["sarhogerben"],10)||0;
        var sargenerell = parseInt(values["sargenerell"],10)||0;
        setAttrs({
          sar_totalt: sarhuvud+sarvansterarm+sarhogerarm+sarbrost+sarmage+sarvansterben+sarhogerben+sargenerell
        });
    });
  });

  on("change:kp_max change:sar_totalt sheet:opened", function() {
    getAttrs(["kp_max", "sar_totalt"], function(values) {
        var kp_max = parseInt(values["kp_max"],10)||0;
        var sar_totalt = parseInt(values["sar_totalt"],10)||0;
        setAttrs({
          kp: kp_max-sar_totalt
        });
    });
  });

  on("change:repeating_yrkes:yrkesmod change:repeating_yrkes:yrkesfv sheet:opened", function() {
    getAttrs(["repeating_yrkes_yrkesmod", "repeating_yrkes_yrkesfv", "repeating_yrkes_yrkesnamn"], function(values) {
      let skillNames = ["Båge", "Armborst", "Kastvapen", "Stångvapen", "Enhandsyxa", "Tvåhandsyxa", "Dolk", "Enhandssvärd", "Tvåhandssvärd", "Enhandskrossvapen", "Tvåhandskrossvapen", "Sköld", "Värja", "Parerdolk", "Lans", "Slunga",
                        "Stridskonst Svärd", "Stridskonst Dolk", "Stridskonst Stångvapen", "Stridskonst Yxa", "Stridskonst Sköld", "Strid till häst"]
      if (skillNames.includes(values.repeating_yrkes_yrkesnamn)) {
        let fvMod = parseInt(values.repeating_yrkes_yrkesmod,10)||0;
        let fv = parseInt(values.repeating_yrkes_yrkesfv,10)||0;
        console.log('I listan: ' + values.repeating_yrkes_yrkesnamn);
        setAttrs({
          [values.repeating_yrkes_yrkesnamn]: fvMod+fv
        });
      }
      else {
        console.log('Inte i listan: ' + values.repeating_yrkes_yrkesnamn);
      }
    });
  });

  on("change:repeating_sekundar:sekundarmod change:repeating_sekundar:sekundarfv sheet:opened", function() {
    getAttrs(["repeating_sekundar_sekundarmod", "repeating_sekundar_sekundarfv", "repeating_sekundar_sekundarnamn"], function(values) {
      let skillNames = ["Båge", "Armborst", "Kastvapen", "Stångvapen", "Enhandsyxa", "Tvåhandsyxa", "Dolk", "Enhandssvärd", "Tvåhandssvärd", "Enhandskrossvapen", "Tvåhandskrossvapen", "Sköld", "Värja", "Parerdolk", "Lans", "Slunga",
                        "Stridskonst Svärd", "Stridskonst Dolk", "Stridskonst Stångvapen", "Stridskonst Yxa", "Stridskonst Sköld", "Strid till häst"]
      if (skillNames.includes(values.repeating_sekundar_sekundarnamn)) {
        let fvMod = parseInt(values.repeating_sekundar_sekundarmod,10)||0;
        let fv = parseInt(values.repeating_sekundar_sekundarfv,10)||0;
        console.log('I listan: ' + values.repeating_sekundar_sekundarnamn);
        setAttrs({
          [values.repeating_sekundar_sekundarnamn]: fvMod+fv
        });
      }
      else {
        console.log('Inte i listan: ' + values.repeating_sekundar_sekundarnamn);
      }
    });
  });

  on("change:bluffamod change:bluffa change:finnadoldatingmod change:finnadoldating change:forstahjalpenmod change:forstahjalpen change:gommasigmod change:gommasig change:hoppamod change:hoppa change:klattramod change:klattra change:kopslamod change:kopsla change:lyssnamod change:lyssna change:lsmodersmalmodmod change:lsmodersmalmod change:ridamod change:rida change:sjungamod change:sjunga change:slagsmalmod change:slagsmal change:smygamod change:smyga change:sparamod change:spara change:stjalaforemalmod change:stjalaforemal change:talamodersmalmod change:talamodersmal change:upptackafatamod change:upptackafata change:varderamod change:vardera change:overtalamod change:overtala sheet:opened", function() {
    getAttrs(["bluffaMod", "bluffa", "finnaDoldaTingMod", "finnaDoldaTing", "forstaHjalpenMod", "forstaHjalpen", "gommaSigMod", "gommaSig", "hoppaMod", "hoppa", "klattraMod", "klattra", "kopslaMod", "kopsla", "lyssnaMod", "lyssna", "lsModersmalModMod", "lsModersmalMod", "ridaMod", "rida", "sjungaMod", "sjunga", "slagsmalMod", "slagsmal", "smygaMod", "smyga", "sparaMod", "spara", "stjalaForemalMod", "stjalaForemal", "talaModersmalMod", "talaModersmal", "upptackaFaraMod", "upptackaFara", "varderaMod", "vardera", "overtalaMod", "overtala"], function(values) {
      let bluffaMod = parseInt(values.bluffaMod,10)||0;
      let bluffa = parseInt(values.bluffa,10)||0;
      let finnaDoldaTingMod = parseInt(values.finnaDoldaTingMod,10)||0;
      let finnaDoldaTing = parseInt(values.finnaDoldaTing,10)||0;
      let forstaHjalpenMod = parseInt(values.forstaHjalpenMod,10)||0;
      let forstaHjalpen = parseInt(values.forstaHjalpen,10)||0;
      let gommaSigMod = parseInt(values.gommaSigMod,10)||0;
      let gommaSig = parseInt(values.gommaSig,10)||0;
      let hoppaMod = parseInt(values.hoppaMod,10)||0;
      let hoppa = parseInt(values.hoppa,10)||0;
      let klattraMod = parseInt(values.klattraMod,10)||0;
      let klattra = parseInt(values.klattra,10)||0;
      let kopslaMod = parseInt(values.kopslaMod,10)||0;
      let kopsla = parseInt(values.kopsla,10)||0;
      let lyssnaMod = parseInt(values.lyssnaMod,10)||0;
      let lyssna = parseInt(values.lyssna,10)||0;
      let lsModersmalModMod = parseInt(values.lsModersmalModMod,10)||0;
      let lsModersmalMod = parseInt(values.lsModersmalMod,10)||0;
      let ridaMod = parseInt(values.ridaMod,10)||0;
      let rida = parseInt(values.rida,10)||0;
      let sjungaMod = parseInt(values.sjungaMod,10)||0;
      let sjunga = parseInt(values.sjunga,10)||0;
      let slagsmalMod = parseInt(values.slagsmalMod,10)||0;
      let slagsmal = parseInt(values.slagsmal,10)||0;
      let smygaMod = parseInt(values.smygaMod,10)||0;
      let smyga = parseInt(values.smyga,10)||0;
      let sparaMod = parseInt(values.sparaMod,10)||0;
      let spara = parseInt(values.spara,10)||0;
      let stjalaForemalMod = parseInt(values.stjalaForemalMod,10)||0;
      let stjalaForemal = parseInt(values.stjalaForemal,10)||0;
      let talaModersmalMod = parseInt(values.talaModersmalMod,10)||0;
      let talaModersmal = parseInt(values.talaModersmal,10)||0;
      let upptackaFaraMod = parseInt(values.upptackaFaraMod,10)||0;
      let upptackaFara = parseInt(values.upptackaFara,10)||0;
      let varderaMod = parseInt(values.varderaMod,10)||0;
      let vardera = parseInt(values.vardera,10)||0;
      let overtalaMod = parseInt(values.overtalaMod,10)||0;
      let overtala = parseInt(values.overtala,10)||0;
      console.log('Updating Primär skill');
      setAttrs({
        bluffaTotFv: bluffa+bluffaMod,
        finnaDoldaTingTotFv: finnaDoldaTing+finnaDoldaTingMod,
        forstaHjalpenTotFv: forstaHjalpen+forstaHjalpenMod,
        gommaSigTotFv: gommaSig+gommaSigMod,
        hoppaTotFv: hoppa+hoppaMod,
        klattraTotFv: klattra+klattraMod,
        kopslaTotFv: kopsla+kopslaMod,
        lyssnaTotFv: lyssna+lyssnaMod,
        lsModersmalModTotFv: lsModersmalMod+lsModersmalModMod,
        ridaTotFv: rida+ridaMod,
        sjungaTotFv: sjunga+sjungaMod,
        slagsmalTotFv: slagsmal+slagsmalMod,
        smygaTotFv: smyga+smygaMod,
        sparaTotFv: spara+sparaMod,
        stjalaForemalTotFv: stjalaForemal+stjalaForemalMod,
        talaModersmalTotFv: talaModersmal+talaModersmalMod,
        upptackaFaraTotFv: upptackaFara+upptackaFaraMod,
        varderaTotFv: vardera+varderaMod,
        overtalaTotFv: overtala+overtalaMod
      });
    });
  });

  on("change:repeating_yrkes:yrkesmod change:repeating_yrkes:yrkesfv sheet:opened", function() {
    getAttrs(["repeating_yrkes_yrkesmod", "repeating_yrkes_yrkesfv"], function(values) {
      let Mod = parseInt(values.repeating_yrkes_yrkesmod,10)||0;
      let Fv = parseInt(values.repeating_yrkes_yrkesfv,10)||0;
      console.log('Updating Yrkes skill');
      setAttrs({
        repeating_yrkes_yrkestotfv: Fv+Mod
      });
    });
  });

  on("change:repeating_sekundar:sekundarmod change:repeating_sekundar:sekundarfv sheet:opened", function() {
    getAttrs(["repeating_sekundar_sekundarmod", "repeating_sekundar_sekundarfv"], function(values) {
      let Mod = parseInt(values.repeating_sekundar_sekundarmod,10)||0;
      let Fv = parseInt(values.repeating_sekundar_sekundarfv,10)||0;
      console.log('Updating Sekundär skill');
      setAttrs({
        repeating_sekundar_sekundartotfv: Fv+Mod
      });
    });
  });

  on("change:repeating_sprak:sprakmod change:repeating_sprak:sprakfv sheet:opened", function() {
    getAttrs(["repeating_sprak_sprakmod", "repeating_sprak_sprakfv"], function(values) {
      let Mod = parseInt(values.repeating_sprak_sprakmod,10)||0;
      let Fv = parseInt(values.repeating_sprak_sprakfv,10)||0;
      console.log('Updating Språk skill');
      setAttrs({
        repeating_sprak_spraktotfv: Fv+Mod
      });
    });
  });

  on("change:repeating_spells:spell_fv_mod change:repeating_spells:spell_fv sheet:opened", function() {
    getAttrs(["repeating_spells_spell_fv_mod", "repeating_spells_spell_fv"], function(values) {
      let Mod = parseInt(values.repeating_spells_spell_fv_mod,10)||0;
      let Fv = parseInt(values.repeating_spells_spell_fv,10)||0;
      console.log('Updating spell skill');
      setAttrs({
        repeating_spells_spell_fv_total: Fv+Mod
      });
    });
  });

  on("change:repeating_vapen:vapenskill sheet:opened", function() {
    getAttrs(["repeating_vapen_vapenSkill"], function(values) {
      const skill = values.repeating_vapen_vapenSkill;
      let display = "";
      display = skill.replace(/\{|\}|\@/gi, '')
      console.log('Updating vapen skill: ' + skill);
      console.log('Vapen skill text: ' + display);
      setAttrs({
        repeating_vapen_vapenSkillDisplay: display
      });
    });
  });

  on("change:repeating_vapen:vapenskadabonus  sheet:opened", function() {
    getAttrs(["repeating_vapen_vapenSkadaBonus"], function(values) {
      const damagebonusType = values.repeating_vapen_vapenSkadaBonus;
      let type = "";
      let display = "";
      type = damagebonusType.replace(/\{|\}|\@/gi, '');
      console.log('Updating damagebonusType: ' + damagebonusType);
      console.log('damagebonusType text: ' + type);
      if (type == "skadeBonusTot") {
        display = "Normal"
      } else if (type == "skadeBonusTvaHandTot") {
          display = "2-hand"
      } else if (type == "skadeBonusNone") {
        display = "Ingen"
      }
      setAttrs({
        repeating_vapen_vapenSkadaBonusDisplay: display
      })
    });
  });

  on("change:repeating_utrustning:utrustning_filter", function(eventinfo) {
    getAttrs(["repeating_utrustning_utrustning_filter"], function(values) {
      console.log("Previous value: " + eventinfo.previousValue + ". New value: " + eventinfo.newValue);
    });
  });
  
  on("change:equiptment_type", function(eventinfo) {
    getAttrs(["equiptment_type"], function(values) {
      console.log("Previous value: " + eventinfo.previousValue + ". New value: " + eventinfo.newValue);
    });
  });

  on('change:repeating_armor', function(){
    TAS.repeatingSimpleSum('armor','armor_weight','armor_weight_sum');
    TAS.repeatingSimpleSum('armor','armor_head','armor_head_sum');
    TAS.repeatingSimpleSum('armor','armor_rightarm','armor_rightarm_sum');
    TAS.repeatingSimpleSum('armor','armor_leftarm','armor_leftarm_sum');
    TAS.repeatingSimpleSum('armor','armor_torso','armor_torso_sum');
    TAS.repeatingSimpleSum('armor','armor_stomach','armor_stomach_sum');
    TAS.repeatingSimpleSum('armor','armor_rightleg','armor_rightleg_sum');
    TAS.repeatingSimpleSum('armor','armor_leftleg','armor_leftleg_sum');
  });
/*
  on('change:repeating_armour remove:repeating_armour', function() {
    repeatingSum("armour_weight", "armour",["armour_piece","armour_worn"]);
  });
*/
  on('change:repeating_equiptment:equiptment_weight change:repeating_equiptment:equiptment_amount remove:repeating_equiptment', function() {
    console.log('Test ');
    repeatingSumEquiptment("equiptment_weight_sum","equiptment",["equiptment_weight","equiptment_amount", "equiptment_filter_place"]);
    console.log('I repeatingSumEquiptment: ' + equiptment_weight_sum);
  });

</script>